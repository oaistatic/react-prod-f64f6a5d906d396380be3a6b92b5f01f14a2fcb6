import{b as S,r as C,j as e,M as c}from"./gg0tb34p9fzo1omt.js";import{aB as E,aC as j,aD as o,aE as w,aF as k}from"./forbprkns1cohsbl.js";import{ch as B,d as F,cp as _,aQ as L,bg as g,bU as u,be as A,cY as T,P as O,je as z}from"./g670b8vtkhx0yc6d.js";import{C as I}from"./kxj86kyhliixe8qj.js";import"./ilcqvb7mttbdvtmn.js";function R({submitButtonTitle:h,onClose:n,onSuccess:f,gizmo:d}){const l=S(),b=B(),a=E(),y=F(),N=!_(),v=!d,[i,M]=C.useState(d?.gizmo.display.name??""),s=N&&L(y).getLayer("3081064739").get("project-modal",!1),m=[];i.length>j&&m.push(l.formatMessage(o.nameTooLong,{length:j}));const P=async()=>{try{const{id:t,resource:r}=await a.mutateAsync({update:{name:i},id:d?.gizmo.id??k});f?.(t??r?.gizmo.id),n()}catch(t){const r=z(t);b.warning(r??"Error",{duration:2})}},p=e.jsx(g,{className:u(s&&"w-fit"),type:"submit",form:"project-modal-form",loading:a.isPending,disabled:!i.trim()||m.length>0,children:h??e.jsx(c,{...o.createProjectSubmit})}),x=e.jsx(g,{className:u(s&&"w-fit"),color:"secondary",onClick:n,disabled:a.isPending,children:e.jsx(c,{...o.createProjectCancel})});return e.jsx(A,{testId:"modal-create-or-edit-project",isOpen:!0,isBottomSheet:s,hideSeparator:!0,noPadding:!0,onCloseComplete:()=>{n()},showCloseButton:!a.isPending,size:"custom",className:"max-w-lg",type:"success",primaryButton:s?p:void 0,secondaryButton:s?x:void 0,title:e.jsx("div",{className:"h-8",children:l.formatMessage(o.projectNameLabel)}),onClose:()=>{a.isPending||n()},children:e.jsxs("form",{id:"project-modal-form",onSubmit:t=>{t.preventDefault(),O.logEventWithStatsig("Projects: Create Submit","chatgpt_web_projects_create_submit"),P()},children:[e.jsxs("div",{className:u(!s&&"mt-2 px-4"),children:[e.jsx(I.AutoFocusTarget,{timing:"present",children:e.jsx("input",{autoFocus:!s,className:"focus:ring-token-text-primary border-token-border-medium focus:border-token-border-medium bg-token-main-surface-primary h-9 w-full resize-none overflow-y-auto rounded-lg border px-3 py-2 focus:ring-2",type:"text",name:"projectName",autoComplete:"off",placeholder:l.formatMessage(o.projectNamePlaceholder),value:i,onChange:t=>M(t.target.value)})}),m.map((t,r)=>e.jsx("div",{className:"mt-1 text-sm text-red-500",children:t},r)),v&&e.jsxs("div",{className:"dark:bg-token-main-surface-secondary mt-6 flex items-start rounded-xl bg-[#F9F9F9] p-3",children:[e.jsx("div",{className:"me-2 h-6 w-6",children:e.jsx("div",{className:"text-token-text-secondary relative flex h-full items-center justify-center",children:e.jsx(w,{className:"icon"})})}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-token-text-secondary block text-xs font-medium",children:e.jsx(c,{...o.projectHelperBoxTitle})}),e.jsx("p",{className:"text-token-text-secondary text-xs",children:e.jsx(c,{...o.projectHelperBoxDescription})})]})]})]}),!s&&e.jsx("div",{className:"px-4 pb-4 sm:px-6 sm:pb-6",children:e.jsx(T.Actions,{primaryButton:p,secondaryButton:x})})]})})}export{R as CreateOrEditProjectModal};
//# sourceMappingURL=n2jilbvhad3hsdrk.js.map
