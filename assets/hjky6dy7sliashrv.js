const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ltg12onlxg40ducx.js","assets/g670b8vtkhx0yc6d.js","assets/gg0tb34p9fzo1omt.js","assets/root-ilxovqci.css","assets/forbprkns1cohsbl.js","assets/conversation-small-mtta3ozz.css","assets/fg8jzk06sc5a5vhq.js","assets/bdi0y5wu3nde171v.js","assets/l4lldnfjv1apahqp.js","assets/kapf1vasjh1lo9ik.js","assets/jpdmr6hprcjyd5ie.js","assets/me58wahxzwibdrxp.js","assets/pnx8yl9r7yj5moem.js","assets/felxwdrg3fgsr1mu.js","assets/f51c6zie1stj9anw.js","assets/cs320738df36xnc1.js","assets/k5ngqk6bkqja3f09.js","assets/kylw5yk1w7awjtgm.js","assets/dkpt9rl3nmxrd3k2.js","assets/fz8lyjvdpywhlf94.js","assets/m1ohh9p1gptum5w5.js","assets/eftmtgt2xlac6ypv.js","assets/obw7fhw77z3hmspx.js","assets/d0a0msstlhx9lzzo.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{bX as De,jZ as Be,bV as Pe,bW as Se,d as Ue,cg as We,lt as Ge,g as Me,cI as He,eX as Qe,nl as Ye,bd as ye,b0 as Ke,cL as Ve,o as Xe,fz as Ze,j as $e,a6 as qe,mY as Je,Z as et,dQ as tt,l_ as st}from"./g670b8vtkhx0yc6d.js";import{j as s,r as a,A as it,m as Ne,c as ot,l as Le,o as at,u as rt}from"./gg0tb34p9fzo1omt.js";import{g_ as nt,g$ as lt,e_ as ct,h0 as dt,f2 as ze,gx as ft,bt as Fe,bu as Re,dS as ut,h1 as ht,h2 as mt,h3 as gt,h4 as pt,h5 as xt,h6 as vt,h7 as bt,h8 as _t,h9 as jt,ha as Et,hb as Ct,hc as wt,hd as Pt,he as St,hf as Tt,hg as It,hh as kt,hi as Ot,hj as At,hk as Ft,hl as Mt,a2 as yt,hm as Vt,hn as Nt,ho as Lt,hp as zt,T as Rt,hq as Dt,dv as Bt}from"./forbprkns1cohsbl.js";import{P as Ut}from"./l4lldnfjv1apahqp.js";import{C as Wt}from"./kylw5yk1w7awjtgm.js";import{M as Gt}from"./m1ohh9p1gptum5w5.js";function Ht({clientThreadId:o}){const e=nt();return s.jsxs(s.Fragment,{children:[e&&s.jsx(lt,{}),s.jsx(Qt,{clientThreadId:o})]})}function Qt({clientThreadId:o}){const e=a.useContext(ct),[i,l]=a.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(f=>f.kind==="media_generation"));return!e?.postWithProfile||!i?null:s.jsx(De,{clientThreadId:o,children:s.jsx(Ut,{clientThreadId:o,postWithProfile:e.postWithProfile,onClose:()=>l(!1)})})}const Yt=450;function Kt({children:o,clientThreadId:e,isOpen:i,onClose:l,type:f}){return s.jsx(it,{children:i&&s.jsx(Be,{children:s.jsx(dt.Provider,{value:{isEmbeddedInFocusedView:!0,type:f},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(Ne.div,{className:"bg-token-main-surface-secondary h-full w-full",...ze}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"grow overflow-auto",children:o}),s.jsx(Ne.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:Yt},...ze,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Gt,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const Xt=Pe(()=>Se(()=>import("./ltg12onlxg40ducx.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Zt=Pe(()=>Se(()=>import("./bdi0y5wu3nde171v.js"),__vite__mapDeps([7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(o=>o.ImageEditor));function $t({clientThreadId:o}){const e=ft();a.useEffect(()=>{Fe.close()},[o]);let i;return e?.type===Re.ADAVisualization?i=s.jsx(Xt,{clientThreadId:o,visualization:e.visualization}):e?.type===Re.Image&&(i=s.jsx(Zt,{clientThreadId:o,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),s.jsx(Kt,{clientThreadId:o,isOpen:e!=null,onClose:Fe.close,type:e?.type,children:i})}var qt={};const Jt=({children:o})=>s.jsx(s.Fragment,{children:o}),es=Pe(()=>Se(()=>import("./eftmtgt2xlac6ypv.js"),__vite__mapDeps([21,2,4,1,3,5]))),ts=Pe(()=>Se(()=>import("./obw7fhw77z3hmspx.js"),__vite__mapDeps([22,2,1,3,4,5,23,20,15,14,10,11,12,13,8,9,16,19,24])));function cs(o){"use forget";const e=ot.c(116),{urlThreadId:i,clientThreadId:l,prefetchSearch:f}=o,n=Ue(),c=We(),F=Ge(),I=Le(),[k]=at();let M;e[0]!==l||e[1]!==i?(M=()=>{if(i!==void 0){const r=i;return Ye(r)??r}return l!==void 0?l:ye()},e[0]=l,e[1]=i,e[2]=M):M=e[2];const[t,O]=a.useState(M);i!==void 0&&t!==i&&(Me(t)===i||O(i));let y;e[3]!==t||e[4]!==n?(y=ut(n,t),e[3]=t,e[4]=n,e[5]=y):y=e[5];const Te=y,Ie=Le();let V;e[6]!==Ie?(V=ht(Ie),e[6]=Ie,e[7]=V):V=e[7];const ke=V;let N;e[8]!==t||e[9]!==i?(N=()=>{i===void 0&&Me(t)!==void 0&&O(ye())},e[8]=t,e[9]=i,e[10]=N):N=e[10];let L;e[11]!==t||e[12]!==ke||e[13]!==i?(L=[i,t,ke],e[11]=t,e[12]=ke,e[13]=i,e[14]=L):L=e[14],a.useEffect(N,L);const Oe=He(Qe.workspaceId),{eligible:z,isLoading:R,markAsViewed:D}=mt(),B=gt(),{eligible:U,isLoading:W,markAsViewed:G}=pt(),H=xt(),{eligible:Q,isLoading:Y,markAsViewed:K}=vt(),X=bt(),{eligible:Z,isLoading:$,markAsViewed:q}=_t(),J=jt();let ee,te;e[15]!==n?(ee=()=>{wt(!0).then(r=>{r.force_login&&Ke(n,{authType:"login"}),Pt.initializeAndGatherData(r),St.initializeAndGatherData(r)})},te=[n],e[15]=n,e[16]=ee,e[17]=te):(ee=e[16],te=e[17]),a.useEffect(ee,te);let se,ie;e[18]!==F||e[19]!==c||e[20]!==k?(se=()=>{const r=k.get(Tt)==="true",A=k.get(It)==="true";A!==F&&Ve.setIsAnonModeEnabled(A),c!==r&&Ve.setIsTemporaryChatEnabled(r)},ie=[c,F,k],e[18]=F,e[19]=c,e[20]=k,e[21]=se,e[22]=ie):(se=e[21],ie=e[22]),a.useEffect(se,ie);let oe;e[23]!==I.state?(oe=()=>{I.state?.focusObject&&Fe.setFocusedObject(I.state.focusObject)},e[23]=I.state,e[24]=oe):oe=e[24];const Ae=I.state?.focusObject;let ae;e[25]!==Ae?(ae=[Ae],e[25]=Ae,e[26]=ae):ae=e[26],a.useEffect(oe,ae);let re,ne;e[27]!==z||e[28]!==R||e[29]!==D||e[30]!==B?(re=()=>{!R&&z&&(D(),B())},ne=[z,R,D,B],e[27]=z,e[28]=R,e[29]=D,e[30]=B,e[31]=re,e[32]=ne):(re=e[31],ne=e[32]),a.useEffect(re,ne);let le,ce;e[33]!==U||e[34]!==W||e[35]!==G||e[36]!==H?(le=()=>{!W&&U&&(G(),H())},ce=[U,W,G,H],e[33]=U,e[34]=W,e[35]=G,e[36]=H,e[37]=le,e[38]=ce):(le=e[37],ce=e[38]),a.useEffect(le,ce);let de,fe;e[39]!==Q||e[40]!==Y||e[41]!==K||e[42]!==X?(de=()=>{!Y&&Q&&(K(),X())},fe=[Q,Y,K,X],e[39]=Q,e[40]=Y,e[41]=K,e[42]=X,e[43]=de,e[44]=fe):(de=e[43],fe=e[44]),a.useEffect(de,fe);let ue,he;e[45]!==Z||e[46]!==$||e[47]!==q||e[48]!==J?(ue=()=>{!$&&Z&&(q(),J())},he=[Z,$,q,J],e[45]=Z,e[46]=$,e[47]=q,e[48]=J,e[49]=ue,e[50]=he):(ue=e[49],he=e[50]),a.useEffect(ue,he),Et(t);const d=rt();let me,ge;e[51]!==n||e[52]!==d?(me=()=>{Xe(n)&&kt(d)},ge=[d,n],e[51]=n,e[52]=d,e[53]=me,e[54]=ge):(me=e[53],ge=e[54]),a.useEffect(me,ge);let pe,xe;e[55]!==c||e[56]!==d?(pe=()=>Ze(et,{completionFinished:r=>{if(r.serverThreadId!=null&&!c){const A=$e(r.serverThreadId)?.mode;A?.kind===qe.GizmoInteraction&&Je.handleGizmoInteracted(d,A.gizmo_id)}}}),xe=[c,d],e[55]=c,e[56]=d,e[57]=pe,e[58]=xe):(pe=e[57],xe=e[58]),a.useEffect(pe,xe);let u;e[59]!==t||e[60]!==Oe?(u=s.jsx(Ot,{clientThreadId:t,page:"chat"},Oe),e[59]=t,e[60]=Oe,e[61]=u):u=e[61];let h;e[62]!==t?(h=s.jsx(ss,{clientThreadId:t,setClientThreadId:O}),e[62]=t,e[63]=h):h=e[63];let ve,be;e[64]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx(es,{}),be=s.jsx(At,{}),e[64]=ve,e[65]=be):(ve=e[64],be=e[65]);let _e;e[66]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(Ft,{}),e[66]=_e):_e=e[66];let m;e[67]!==t||e[68]!==i?(m=s.jsx(Wt,{urlThreadId:i,clientThreadId:t,setClientThreadId:O}),e[67]=t,e[68]=i,e[69]=m):m=e[69];let g;e[70]!==t||e[71]!==m?(g=s.jsx(Mt,{clientThreadId:t,children:m}),e[70]=t,e[71]=m,e[72]=g):g=e[72];let p;e[73]!==t?(p=s.jsx(Ht,{clientThreadId:t}),e[73]=t,e[74]=p):p=e[74];let x;e[75]!==t||e[76]!==f||e[77]!==g||e[78]!==p?(x=s.jsxs(yt,{clientThreadId:t,setClientThreadId:O,prefetchSearchPromises:f,children:[_e,g,p]}),e[75]=t,e[76]=f,e[77]=g,e[78]=p,e[79]=x):x=e[79];let v;e[80]!==t||e[81]!==u||e[82]!==h||e[83]!==x?(v=s.jsxs(tt,{clientThreadId:t,children:[u,h,ve,be,x]}),e[80]=t,e[81]=u,e[82]=h,e[83]=x,e[84]=v):v=e[84];let b,_;e[85]!==t?(b=s.jsx($t,{clientThreadId:t}),_=s.jsx(Vt,{clientThreadId:t}),e[85]=t,e[86]=b,e[87]=_):(b=e[86],_=e[87]);let je;e[88]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx(Nt,{}),e[88]=je):je=e[88];let j;e[89]!==t?(j=s.jsx(Lt,{clientThreadId:t}),e[89]=t,e[90]=j):j=e[90];let Ee;e[91]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(zt,{}),e[91]=Ee):Ee=e[91];let E;e[92]!==t||e[93]!==v||e[94]!==b||e[95]!==_||e[96]!==j?(E=s.jsxs(De,{clientThreadId:t,children:[v,b,_,je,j,Ee]}),e[92]=t,e[93]=v,e[94]=b,e[95]=_,e[96]=j,e[97]=E):E=e[97];let C;e[98]!==t||e[99]!==E?(C=s.jsx(Rt,{clientThreadId:t,children:E}),e[98]=t,e[99]=E,e[100]=C):C=e[100];let w;e[101]!==t||e[102]!==C?(w=s.jsx(Jt,{clientThreadId:t,children:C}),e[101]=t,e[102]=C,e[103]=w):w=e[103];let P;e[104]!==t||e[105]!==w?(P=s.jsx(Dt,{clientThreadId:t,children:w}),e[104]=t,e[105]=w,e[106]=P):P=e[106];let Ce;e[107]===Symbol.for("react.memo_cache_sentinel")?(Ce=!1,e[107]=Ce):Ce=e[107];let S;e[108]!==t?(S=!1,e[108]=t,e[109]=S):S=e[109];let T;e[110]!==P||e[111]!==S?(T=s.jsxs(st,{children:[P,Ce,S]}),e[110]=P,e[111]=S,e[112]=T):T=e[112];let we;return e[113]!==Te||e[114]!==T?(we=s.jsx(Ct.Provider,{value:Te,children:T}),e[113]=Te,e[114]=T,e[115]=we):we=e[115],we}function ss({clientThreadId:o,setClientThreadId:e}){const{isOpen:i,isLoading:l}=Bt();return!l&&i?s.jsx(ts,{clientThreadId:o,setClientThreadId:e}):null}typeof window<"u"&&(window._g=qt.GOKU_SERVICE);export{cs as C,Yt as F};
//# sourceMappingURL=hjky6dy7sliashrv.js.map
