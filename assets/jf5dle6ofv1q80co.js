import{r as u,j as e,b as m,M as s,e as w}from"./gg0tb34p9fzo1omt.js";import{av as k,N as T,aw as y}from"./forbprkns1cohsbl.js";import{S as C}from"./d0a0msstlhx9lzzo.js";import{eZ as N,R as f,be as p,bT as h,eW as d,mh as g,bU as E}from"./g670b8vtkhx0yc6d.js";import{H as P}from"./ei33ilbwr3am96dt.js";const x=({value:t,isSelected:o,onSelect:l,workspacePlanType:i})=>e.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-hidden lg:text-start",onClick:()=>l(t),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t==="transfer"?e.jsx(C,{className:"icon-sm"}):e.jsx(T,{className:"icon-sm"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:t==="transfer"?e.jsx(s,{...a.initialModalTransferLabel}):e.jsx(s,{...a.initialModalExportLabel})}),e.jsx("div",{className:"text-token-text-secondary text-sm",children:t==="transfer"?g(i)?e.jsx(s,{...a.initialModalTransferEduDetail}):e.jsx(s,{...a.initialModalTransferEnterpriseDetail}):e.jsx(s,{...a.initialModalExportDetail})})]})]}),e.jsx("div",{className:E({"flex h-4 w-4 shrink-0 rounded-full border align-middle":!0,"bg-black":o}),children:o&&e.jsx(y,{className:"m-auto h-3 w-3 scale-x-75 stroke-4 text-white"})})]}),v=({setCurrentStep:t,destinationWorkspaceName:o,destinationWorkspaceProfilePictureUrl:l,destinationWorkspacePlanType:i})=>{const[r,c]=u.useState(""),n=m(),b=async()=>{r==="transfer"?t(1):r==="export"&&t(2)},j=g(i)?n.formatMessage(a.initialModalEduTitle):n.formatMessage(a.initialModalEnterpriseTitle);return e.jsx(p,{testId:"modal-account-transfer",isOpen:!0,onClose:h,type:"warning",title:j,primaryButton:e.jsx(d,{title:n.formatMessage(a.initialModalConfirm),onClick:b,color:"primary",className:"ms-4"}),children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-4",children:[e.jsx(k,{src:l,size:"large"}),e.jsx("div",{className:"font-semibold",children:o})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:e.jsx(s,{...a.initialModalExplanation})}),e.jsx("div",{className:"text-token-text-secondary mb-2 text-sm",children:e.jsx(s,{...a.initialModalMustChoose})}),e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-2",children:e.jsx(s,{...a.initialModalDataDelete})}),e.jsx("li",{children:e.jsx(s,{...a.initialModalBilling})})]})]}),e.jsx(x,{value:"transfer",isSelected:r==="transfer",onSelect:c,workspacePlanType:i}),e.jsx(P,{}),e.jsx(x,{value:"export",isSelected:r==="export",onSelect:c,workspacePlanType:i})]})})},M=({currentStep:t,setCurrentStep:o,performAction:l})=>{const i=m();return e.jsx(p,{testId:"modal-account-transfer-selected",isOpen:!0,onClose:h,type:"success",title:i.formatMessage(a.selectedModalTitle),primaryButton:e.jsx(d,{title:t===1?i.formatMessage(a.transferModalConfirm):i.formatMessage(a.exportModalConfirm),color:t===2?"danger":"primary",onClick:l}),secondaryButton:e.jsx(d,{title:i.formatMessage(a.selectedModalBack),color:"secondary",onClick:async()=>{o(0)}}),children:e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:t===1?e.jsx(s,{...a.transferModalConfirmTitle}):e.jsx(s,{...a.exportModalConfirmTitle})}),t===1?e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(s,{...a.transferModalConfirmLabel})}):e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-1",children:e.jsx(s,{...a.exportModalChatHistoryLabel})}),e.jsx("li",{className:"mb-1",children:e.jsx(s,{...a.exportModalDeleteLabel})}),e.jsx("li",{className:"mb-1",children:e.jsx(s,{...a.exportModalChatDownloadLabel})})]}),e.jsx("h4",{className:"text-token-text-primary pt-5 font-semibold",children:t==1?e.jsx(s,{...a.transferModalProceed}):e.jsx(s,{...a.exportModalProceed})})]})})};function S(){const[t,o]=u.useState(0),l=N();if(!l)return null;switch(t){case 0:return e.jsx(v,{setCurrentStep:o,destinationWorkspaceName:l.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:l.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:l.destinationWorkspacePlanType});case 1:return e.jsx(M,{currentStep:t,setCurrentStep:o,performAction:async()=>{(await f.safePost("/accounts/transfer",{requestBody:{workspace_id:l.destinationWorkspaceId}})).success&&(window.location.href="/")}});case 2:return e.jsx(M,{currentStep:t,setCurrentStep:o,performAction:async()=>{(await f.safePost("/accounts/export_and_deactivate")).success&&(window.location.href="/")}})}}const a=w({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});export{S as default};
//# sourceMappingURL=jf5dle6ofv1q80co.js.map
