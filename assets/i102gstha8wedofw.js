import{r as s,R as i,j as e}from"./gg0tb34p9fzo1omt.js";import{a3 as c,q as C,bU as x,be as m}from"./g670b8vtkhx0yc6d.js";const p=t=>s.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 7.83496C11.4718 7.83496 12.665 9.02816 12.665 10.5C12.665 11.9718 11.4718 13.165 10 13.165C8.52816 13.165 7.33496 11.9718 7.33496 10.5C7.33496 9.02816 8.52816 7.83496 10 7.83496ZM10 9.16504C9.2627 9.16504 8.66504 9.7627 8.66504 10.5C8.66504 11.2373 9.2627 11.835 10 11.835C10.7373 11.835 11.335 11.2373 11.335 10.5C11.335 9.7627 10.7373 9.16504 10 9.16504Z"}),s.createElement("path",{d:"M11.8018 4.67871C12.1043 4.74107 12.332 5.00904 12.332 5.33008C12.332 5.65109 12.1043 5.9191 11.8018 5.98145L11.667 5.99512H8.33399C7.96674 5.99512 7.66899 5.69731 7.66895 5.33008C7.66895 4.96281 7.96672 4.66504 8.33399 4.66504H11.667L11.8018 4.67871Z"}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.83496C12.6891 1.83496 13.246 1.83431 13.6963 1.87109C14.1541 1.90851 14.5599 1.98788 14.9365 2.17969L15.1553 2.30176C15.651 2.60585 16.0548 3.04244 16.3203 3.56348L16.3867 3.70606C16.531 4.04235 16.5962 4.40306 16.6289 4.80371C16.6657 5.25395 16.665 5.81091 16.665 6.5V13.5C16.665 14.1891 16.6657 14.746 16.6289 15.1963C16.5962 15.5969 16.531 15.9577 16.3867 16.2939L16.3203 16.4365C16.0548 16.9576 15.651 17.3941 15.1553 17.6982L14.9365 17.8203C14.5599 18.0121 14.1541 18.0915 13.6963 18.1289C13.246 18.1657 12.6891 18.165 12 18.165H8C7.31091 18.165 6.75395 18.1657 6.30371 18.1289C5.90306 18.0962 5.54235 18.031 5.20606 17.8867L5.06348 17.8203C4.54244 17.5548 4.10585 17.151 3.80176 16.6553L3.67969 16.4365C3.48788 16.0599 3.40851 15.6541 3.37109 15.1963C3.33431 14.746 3.33496 14.1891 3.33496 13.5V6.5C3.33496 5.81091 3.33431 5.25395 3.37109 4.80371C3.40851 4.34592 3.48788 3.94009 3.67969 3.56348C3.98313 2.96794 4.46794 2.48313 5.06348 2.17969C5.44009 1.98788 5.84592 1.90851 6.30371 1.87109C6.75395 1.83431 7.31091 1.83496 8 1.83496H12ZM10 15.165C9.14679 15.165 8.49545 15.418 7.96777 15.8447C7.65012 16.1016 7.36623 16.4322 7.10938 16.8311C7.36351 16.8348 7.65633 16.835 8 16.835H12C12.3432 16.835 12.6357 16.8348 12.8896 16.8311C12.6329 16.4324 12.3498 16.1015 12.0322 15.8447C11.5045 15.418 10.8532 15.165 10 15.165ZM8 3.16504C7.28896 3.16504 6.79563 3.16593 6.41211 3.19727C6.03641 3.22797 5.825 3.28473 5.66699 3.36524C5.32175 3.54116 5.04116 3.82175 4.86524 4.16699C4.78473 4.325 4.72797 4.53641 4.69727 4.91211C4.66593 5.29563 4.66504 5.78896 4.66504 6.5V13.5C4.66504 14.211 4.66593 14.7044 4.69727 15.0879C4.72797 15.4636 4.78473 15.675 4.86524 15.833L4.93555 15.959C5.11186 16.2466 5.36474 16.4807 5.66699 16.6348L5.68066 16.6406C6.06133 15.9275 6.53174 15.2952 7.13086 14.8105C7.90357 14.1856 8.85323 13.835 10 13.835C11.1468 13.835 12.0964 14.1856 12.8691 14.8105C13.4681 15.2951 13.9377 15.9277 14.3184 16.6406C14.3231 16.6383 14.3284 16.6371 14.333 16.6348L14.459 16.5645C14.7466 16.3881 14.9807 16.1353 15.1348 15.833L15.1914 15.7031C15.2428 15.5594 15.2797 15.3697 15.3027 15.0879C15.3341 14.7044 15.335 14.211 15.335 13.5V6.5C15.335 5.78896 15.3341 5.29563 15.3027 4.91211C15.2797 4.63025 15.2428 4.44063 15.1914 4.29688L15.1348 4.16699C14.9807 3.86474 14.7466 3.61186 14.459 3.43555L14.333 3.36524C14.175 3.28473 13.9636 3.22797 13.5879 3.19727C13.2044 3.16593 12.711 3.16504 12 3.16504H8Z"}));function u({message:t,className:r}){const[d,a]=s.useState(!1),o=t.content.content_type===c.ModelEditableContext?t.content.model_set_context:null,n=C(t),{recipient:l}=t;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:x(r,"mt-6 flex flex-col items-start gap-2 overflow-x-auto break-words whitespace-pre-wrap first:mt-0"),children:[e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"text-red-500 uppercase",children:"debug message"}),!!o&&e.jsxs("button",{onClick:()=>a(!0),className:"flex cursor-pointer items-center gap-1",children:[e.jsx(p,{className:"icon-sm"}),e.jsx("div",{className:"underline",children:"View all model memories"})]})]}),e.jsx("div",{className:"flex w-full items-start justify-between",children:e.jsxs("div",{className:"text-token-text-tertiary text-xs",children:[e.jsxs("div",{children:["From: ",t.author.name??t.author.role]}),!!l&&l!=="all"&&e.jsxs("div",{children:["To: ",l]})]})}),e.jsx("div",{className:"font-mono text-sm whitespace-pre-wrap",children:n}),e.jsxs("div",{className:"flex gap-3",children:[t.metadata?.rebase_system_message&&e.jsx("div",{className:"rounded-xl bg-blue-200 px-3 py-1 text-xs text-black",children:"Rebased System Message"}),t.metadata?.rebase_developer_message&&e.jsx("div",{className:"rounded-xl bg-blue-200 px-3 py-1 text-xs text-black",children:"Rebased Developer Message"}),t.metadata?.is_user_system_message&&e.jsx("div",{className:"rounded-xl bg-blue-200 px-3 py-1 text-xs text-black",children:"Custom Instruction"})]})]}),e.jsx(m,{testId:"modal-model-memory",title:"All Model Memories",type:"success",isOpen:d,onClose:()=>a(!1),children:e.jsx("div",{className:"max-h-[80vh] overflow-auto font-mono text-sm whitespace-pre-wrap",children:o})})]})}const b=i.memo(u);export{b as default};
//# sourceMappingURL=i102gstha8wedofw.js.map
