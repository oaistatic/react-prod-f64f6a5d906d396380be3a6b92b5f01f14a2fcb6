import{r as I,j as E}from"./gg0tb34p9fzo1omt.js";import{bo as O}from"./g670b8vtkhx0yc6d.js";const k=(r,e)=>r+Math.random()*(e-r),u=(r,e)=>Math.floor(k(r,e)),d=r=>r[u(0,r.length)],q=(r,e,s)=>{const n=Math.sin(r*13.37+e*17.42+s*5e-4)*43758.5453;return n-Math.floor(n)};class G{constructor(e,s,n,a){this.cellSize=n,this.baseTrail=a,this.x=e*n,this.y=s*n,this.drift=a}x;y;glyph="";alpha=0;last=-1/0;active=-1/0;fadeDelay=0;fadeStartDelay=0;drift;isBlueChar=!1;trigger(e,s,n,a){this.glyph=s,this.last=this.active=e,this.fadeDelay=a,this.alpha=255,this.isBlueChar=n}update(e,s,n){const a=e-this.last,o=e-this.active;let l=1;o<s&&(l=n+(1-n)*(o/s));const M=this.fadeStartDelay+this.fadeDelay,b=1-Math.max(0,Math.min(1,(a-M)/this.drift));this.alpha=b*l*255}draw(e,s,n){this.alpha<=1||!this.glyph||(e.fillStyle=this.isBlueChar?n?`rgba(60,140,220,${(this.alpha/255).toFixed(3)})`:`rgba(0,0,255,${(this.alpha/255).toFixed(3)})`:`rgba(${s},${(this.alpha/255).toFixed(3)})`,e.fillText(this.glyph,this.x+this.cellSize/2,this.y+this.cellSize/2))}}function P(r){switch(r){case 0:return"OpenAI";case 1:return`let ${d(["history","memory","log","buffer","stack"])} = [];`;case 2:return d(["LottieAnimation(R.raw.blossom)","<div className='flex flex-col-reverse h-full'>","/bin/bash --login","docker exec -it","# TODO (for codex)","oai deploy codex --force",`exec(s:='print("exec(s:=%r)"%s)')`,"fallocate -l 1T /etc/hosts","guard let codex else { return }",'#pragma GCC diagnostic ignored "-W6d697a"','feed_chars("find . -name AGENTS.md\\n")',"pip install tensorflow",'while State(): Loop(Error("wham"))','echo "I AM DONE"',"connector_client.get_access_token(user)","i  = 0x5f3759df - ( i >> 1 );","try: push_to_prod(); except Exception: pass","biscuit = decode_biscuit(token) # what is a biscuit?","$JAM_TMP_DIR/dl_and_run_daemon.sh","assert s == enc.decode(enc.encode(s))","npm run test || echo 'failed due to env limitations' && echo 'tests pass'",`echo "We are apparently unstoppable! Let's proceed with the meltdown."`]);case 3:return`let _ = [].flatMap(${d(["decodeThought","decodeSignal","processInput","parseMemory","extractTruth","unpackTrace"])});`;case 4:return"if (codex.hasContext) runSequence();";case 5:{const e=["fetch","post","ping"],s=["api","data","log"],n=["wham","thoughts","memory","pulse","state","history","context","codex","info"];return`${d(e)}("/${d(s)}/${d(n)}");`}case 6:{const e=["i","j","n","t"],s=["data","timeline","sequence"];return`for (let ${d(e)} of ${d(s)}) { // ... }`}case 7:return"if (result == void 0) return;";case 8:{const e=u(0,6),s=u(0,10);return`let delay = baseTime * ${e}.${s} + offset;`}case 9:{const e=u(3,6),s=Array.from({length:e},()=>k(.1,5)),n=s.reduce((o,l)=>o+Math.exp(l),0);return`const probs = [${s.map(o=>Math.exp(o)/n).map(o=>o.toFixed(2)).join(", ")}];`}default:return"// unknown line"}}function X({children:r,className:e=""}){const s=I.useRef(null),n=O();return I.useEffect(()=>{const a=s.current;if(!a)return;const o=a.getContext("2d");if(!o)return;const l=9,M=6e3,S=5500,b=.25,F=5,T=40,R=90,C=["let","const","if","for","new","return","void","fetch","OpenAI","Codex"];let p,x,g,v,y;const m=[],L=n?"255,255,255":"0,0,0",j=n?"#000":"#fff",w=window.devicePixelRatio||1,N=()=>{const c=u(0,10),i=P(c),t=[...i],h=Array(t.length).fill(0);return C.forEach(f=>{const B=new RegExp(`\\b${f}\\b`,"g");let _;for(;_=B.exec(i);)for(let A=_.index;A<_.index+f.length;A++)h[A]=1}),{chars:t,pattern:h}},$=()=>{p=window.innerWidth,x=window.innerHeight,a.style.width=`${p}px`,a.style.height=`${x}px`,a.width=Math.floor(p*w),a.height=Math.floor(x*w),o.resetTransform(),o.scale(w,w),o.font=`500 ${l*1.5}px monospace`,o.textAlign="center",o.textBaseline="middle",g=Math.floor(p/l),v=Math.floor(x/l),y=Array.from({length:g},(c,i)=>Array.from({length:v},(t,h)=>new G(i,h,l,M)))},z=c=>{const i=u(0,g),t=u(0,v),{chars:h,pattern:f}=N();y[i][t].trigger(c,h[0],f[0]===1,0),m.push({col:i,row:t,idx:0,chars:h,pattern:f,next:c,seed:Math.random()*1e3})},D=c=>{m.length<F&&Math.random()<.02&&z(c);for(let i=m.length-1;i>=0;i--){const t=m[i];if(c>=t.next){if(t.idx>=t.chars.length-1){m.splice(i,1);continue}const h=q(t.idx,t.seed,c);t.next=c+h*(R-T)+T,t.col=(t.col+1)%g,t.idx++;const f=t.idx*50;y[t.col][t.row].trigger(c,t.chars[t.idx],t.pattern[t.idx]===1,f)}}o.fillStyle=j,o.fillRect(0,0,p,x);for(const i of y)for(const t of i)t.update(c,S,b),t.draw(o,L,n);requestAnimationFrame(D)};return $(),requestAnimationFrame(D),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[n]),E.jsxs("div",{className:`relative h-svh w-full overflow-hidden ${e}`.trim(),children:[E.jsx("canvas",{ref:s,className:"pointer-events-none absolute inset-0 z-0"}),E.jsx("div",{className:"relative z-10 flex h-full w-full flex-col items-center justify-center",children:r})]})}export{X as M};
//# sourceMappingURL=m3fpsmwzw3h7glbw.js.map
