import{j as e,b as v,r as c,M as l,e as _}from"./gg0tb34p9fzo1omt.js";import{dM as I,dL as f,dj as O,ch as P,co as N,y as M,z as k,D as F,be as B,dR as m,bg as C,c2 as n,eA as T}from"./g670b8vtkhx0yc6d.js";import{ab as U,ac as z,ad as D,ae as L}from"./forbprkns1cohsbl.js";function q(){return I(f.CookieManagement)?e.jsx(G,{onClose:()=>{O.closeModal(f.CookieManagement)}}):null}function G({onClose:d}){const s=v(),u=P(),{isUnauthenticated:t}=N(),{data:p}=U(),r=p?.serverPrimedAllowBrowserStorageValue??!1,j=p?.isStorageComplianceEnabled??!1,A=z({serverPrimedAllowBrowserStorageValue:r,enabled:j&&!t}),[w,g]=c.useState(r),E=t?w:A,i=o=>{M.setBooleanCookie(k.AllowNonessential,o,{maxAge:L,domain:T}),t?g(o):S.mutateAsync({analytics_cookies_accepted:o},{onSuccess(){u.success(s.formatMessage(a.updateSuccess))},onError(){u.danger(a.updateFailure,{toastId:"manage_cookies_modal"})}})};c.useEffect(()=>{if(t){const o=M.getBooleanCookie(k.AllowNonessential)??r;g(o)}},[t,r]),c.useEffect(()=>{F.addAction("privacy_policy.show_manage_cookies_modal")},[]);const S=D();return e.jsx(B,{testId:"modal-manage-cookies",type:"success",isOpen:!0,onClose:d,title:s.formatMessage(a.title),showCloseButton:!0,children:e.jsxs("div",{className:"text-token-text-secondary text-sm",children:[e.jsx(l,{...a.description,values:{cookiePolicy:o=>e.jsx("a",{className:"underline",href:"https://openai.com/policies/privacy-policy",children:o})}}),e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsx(y,{children:s.formatMessage(a.preference1title)}),e.jsx(b,{children:s.formatMessage(a.preference1desc)})]}),e.jsx(m,{checked:!0,disabled:!0,"aria-label":s.formatMessage(a.preference1toggle)})]}),e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsx(y,{children:s.formatMessage(a.preference2title)}),e.jsx(b,{children:s.formatMessage(a.preference2desc)})]}),e.jsx(m,{onCheckedChange:i,checked:E,"aria-label":s.formatMessage(a.preference2toggle)})]}),e.jsxs("div",{className:"flex justify-end gap-3 border-t border-black/10 pt-4 dark:border-white/10",children:[e.jsx(C,{color:"secondary",onClick:()=>i(!1),children:e.jsx(l,{...a.reject})}),e.jsx(C,{color:"secondary",onClick:()=>i(!0),children:e.jsx(l,{...a.accept})})]})]})})}const h=n.div`flex gap-4 border-t last:border-b border-black/10 dark:border-white/10 py-4 mt-4 text-token-text-secondary`,x=n.div`flex gap-2 flex-col `,y=n.p`font-semibold text-sm text-token-text-primary`,b=n.p`text-xs`,a=_({title:{id:"ManageCookiesModal.title",defaultMessage:"Manage cookies"},description:{id:"ManageCookiesModal.description",defaultMessage:"OpenAI uses cookies to improve your experience and analyze site traffic. For more information, read our <cookiePolicy>cookie policy</cookiePolicy>."},preference1title:{id:"ManageCookiesModal.preference1title",defaultMessage:"Essential"},preference1desc:{id:"ManageCookiesModal.preference1desc.0",defaultMessage:"These cookies are required to operate our Services. For example, they allow us to authenticate users or enable specific features within the Services, including for security purposes."},preference1toggle:{id:"ManageCookiesModal.preference1toggle",defaultMessage:"Allow essential cookies"},preference2title:{id:"ManageCookiesModal.preference2title",defaultMessage:"Analytics"},preference2desc:{id:"ManageCookiesModal.preference2desc.0",defaultMessage:"These cookies help us analyze and understand how our Services perform and are used, such as the number of users, how they interact with our Services, and time spent using the Services."},preference2toggle:{id:"ManageCookiesModal.preference2toggle",defaultMessage:"Allow analytics cookies"},reject:{id:"ManageCookiesModal.reject",defaultMessage:"Reject all"},accept:{id:"ManageCookiesModal.accept",defaultMessage:"Accept all"},updateSuccess:{id:"ManageCookiesModal.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"ManageCookiesModal.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}});export{G as M,q as a};
//# sourceMappingURL=id2b6tfpkmbffcve.js.map
