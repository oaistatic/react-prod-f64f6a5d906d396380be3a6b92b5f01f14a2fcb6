import{kw as A,N as C,cD as g,d as y,m as O,c6 as R,ar as w,ad as E,gI as S,P as T,cz as x}from"./g670b8vtkhx0yc6d.js";import{o as b,h as v,O as L,r as i,af as j,j as o,e as k}from"./gg0tb34p9fzo1omt.js";import{C as D}from"./bckf7qgfy3ojc3v4.js";import{A as F}from"./gub5dec34n0efh92.js";import{C as s}from"./in9skfbx4r8neufs.js";import"./forbprkns1cohsbl.js";import"./eyn5f5xfm2iythcf.js";import"./j8pmm8m4sd7eamqj.js";import"./i76lgy5ukiiex68z.js";import"./pnx8yl9r7yj5moem.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},f=Object.keys(s),I={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function N(r){r&&s[r]&&(window.location.href=s[r])}const Q=A(function(){const[h]=b(),n=v(),_=C(),{plan:a}=L(),e=h.get("checkout_from"),l=i.useRef(!1),t=g(),u=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),M=y(),c=O(M,"1719651090");if(!a||!(a in m))throw j("/");return i.useEffect(()=>{if(!t||l.current)return;if(l.current=!0,e==="vza493q"){t.hasPaidSubscription()&&t.isPro()?window.location.href=s[e]:c||n("/");return}(async()=>{const p=e&&f.includes(e)?I[e]:"purchase_plan_redirect";try{e&&f.includes(e)&&w.setItem(E.CheckoutFrom,e);const d=await D.getCheckoutLink({plan_name:m[a],billing_details:{currency:S}});T.logEvent("Account Pay: Purchase Plan Redirect",{...u,plan:a,location:p}),window.location.href=d.url}catch{x(n,p)}})()},[n,_,a,e,u,c,t]),o.jsxs(o.Fragment,{children:[t&&e==="vza493q"&&c&&o.jsx(F,{currentAccount:t,onClose:()=>N(e),subtitle:P.operatorModalSubtitle,title:P.operatorModalTitle}),o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(R,{})})]})}),P=k({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{Q as default};
//# sourceMappingURL=5yfmdwwdqxatfs69.js.map
