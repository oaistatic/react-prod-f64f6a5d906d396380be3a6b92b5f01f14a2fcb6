import{ay as a,az as r,P as s,R as i,A as p}from"./g670b8vtkhx0yc6d.js";import{f as n,r as u}from"./gg0tb34p9fzo1omt.js";const t={logCouponCheck(e,o){a.count(r.TEAMS,"promo_campaign.web.check_coupon",[{key:"coupon",value:e},{key:"outcome",value:o}]),s.logEvent("Promo Campaign: Check Coupon",{coupon:e,outcome:o})},logCouponApplied(e){a.count(r.TEAMS,"promo_campaign.web.coupon_applied",[{key:"coupon",value:e}]),s.logEvent("Promo Campaign: Coupon Applied",{coupon:e})}},l=e=>{const o=n({queryKey:["promoCampaignEligibility",e],queryFn:()=>i.safeGet("/promo_campaign/check_coupon",{parameters:{query:{coupon:e}},authOption:p.SendIfAvailable}),enabled:!!e});return u.useEffect(()=>{o.isSuccess&&o.data?t.logCouponCheck(e,o.data.state):o.isError&&t.logCouponCheck(e,"error")},[o.isSuccess,o.isError,o.data,e]),o};export{t as P,l as u};
//# sourceMappingURL=j8pmm8m4sd7eamqj.js.map
