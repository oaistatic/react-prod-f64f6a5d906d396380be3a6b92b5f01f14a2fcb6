import{kw as p,dK as c,l,a3 as m,a4 as u,lS as f}from"./g670b8vtkhx0yc6d.js";import{K as h,N as _,r as g}from"./gg0tb34p9fzo1omt.js";import{c as R,f as T}from"./forbprkns1cohsbl.js";import"./l4lldnfjv1apahqp.js";import"./kapf1vasjh1lo9ik.js";import"./jpdmr6hprcjyd5ie.js";import"./me58wahxzwibdrxp.js";import"./pnx8yl9r7yj5moem.js";import"./felxwdrg3fgsr1mu.js";import"./f51c6zie1stj9anw.js";import"./cs320738df36xnc1.js";import"./k5ngqk6bkqja3f09.js";const k=()=>[{title:"ChatGPT"}],A=()=>!1;function S(e){const o={},a="client-created-root";o[a]={id:a,message:{id:a,author:{role:u.Root},content:{content_type:m.Text,parts:[]}},parent:"",children:[]};let n=a;const r=[],s=new Set;for(const t of e.messages)s.add(t.id);for(const t of e.messages){let i=t.metadata?.parent_id??n;s.has(i)||(i=n),o[t.id]={id:t.id,message:t,parent:i,children:[]},n=t.id,r.push(...t.metadata?.safe_urls??[])}for(const[t,i]of Object.entries(o))i.parent!==""&&o[i.parent]?.children?.push(t);const d=e.conversation_id??e.id;return{title:e.title??null,conversation_id:d,mapping:o,current_node:n,moderation_results:[],safe_urls:e.safe_urls??r,...f(e,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember")}}const G=p(function(){const o=h(),a=_(),n=o??a;c.debug(`IN: POST=${o?.length}, GET=${a?.length}`);const r=JSON.parse(n),s=r.conversation_id??r.id;return g.useEffect(()=>{const d=S(r);R(s,d),T(s),l(s,t=>{t.continuingFromSharedConversationId=s})},[]),c.debug(`Ready ${s} (SERVER: false) : ${n.length} byte(s)`),null});export{G as default,k as meta,A as shouldRevalidate};
//# sourceMappingURL=mqij5i1l4yptr3wg.js.map
