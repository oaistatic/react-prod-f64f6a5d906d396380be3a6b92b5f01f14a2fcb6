import{b as S,r as n,j as e,M as k}from"./gg0tb34p9fzo1omt.js";import{aq as T}from"./forbprkns1cohsbl.js";import{bU as d,dX as R,jp as E}from"./g670b8vtkhx0yc6d.js";const D=50;function v({className:u,delay:s=D,height:a,width:i}){const[l,c]=n.useState(!1);return n.useEffect(()=>{const h=setTimeout(()=>{c(!0)},s);return()=>{clearTimeout(h)}},[s]),l?e.jsx("div",{className:"flex max-h-full max-w-full items-center justify-center",style:{width:i,height:a,aspectRatio:`${i} / ${a}`},children:e.jsx("div",{className:d("bg-token-border-default h-full w-full animate-pulse",u)})}):null}function z({allRepos:u,enableScroll:s=!0,fetchNextPage:a,hasNextPage:i,isFetchingNextPage:l,isLoading:c,onChange:h,searchTerm:j,selectedRepos:m}){const w=S(),b=n.useRef(null),y=n.useRef(null),f=n.useRef(null),p=T(),g=m.size>=p,N=n.useCallback(t=>{c||t==null||(f.current?.disconnect(),f.current=new IntersectionObserver(r=>{r[0].isIntersecting&&!l&&i&&a()}),f.current.observe(t))},[c,l,i,a]),M=n.useMemo(()=>Array.from({length:6}).map(()=>Math.random()*250+100),[]);return n.useEffect(()=>()=>{f.current?.disconnect()},[]),e.jsx(e.Fragment,{children:c?e.jsx("div",{className:"h-[300px]",children:M.map((t,r)=>e.jsx("div",{className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:e.jsx(v,{className:"rounded-md",width:t,height:20})},r))}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:d("relative flex flex-col",s&&"overflow-y-auto"),children:[s&&e.jsx("div",{ref:b,className:d("from-token-main-surface-primary pointer-events-none absolute start-0 end-0 top-0 z-10 h-20 bg-gradient-to-b to-transparent opacity-0 transition-opacity duration-200")}),e.jsx("div",{ref:t=>{if(!t)return;const r=()=>{if(!s||!t||!b.current||!y.current)return;const x=t.scrollTop<=10,o=t.scrollHeight-t.scrollTop<=t.clientHeight+10;b.current.style.opacity=x?"0":"1",y.current.style.opacity=o?"0":"1"};return t.addEventListener("scroll",()=>r()),r(),()=>t.removeEventListener("scroll",()=>r())},className:d("no-scrollbar",s&&"h-[300px] overflow-y-auto",!s&&"overflow-y-visible"),children:u.length>0||i?e.jsxs(e.Fragment,{children:[u.map(t=>{if(!t.id)return null;const r=g&&!m.has(t.id);return e.jsx(R,{label:w.formatMessage({id:"N6yvBk",defaultMessage:"You've reached the limit of {maxReposToSync} synced repositories."},{maxReposToSync:p}),side:"right",align:"center",className:"flex w-full flex-1",sideOffset:10,disabled:!r,children:e.jsxs("button",{disabled:r,onClick:x=>{x.preventDefault(),x.stopPropagation();const o=new Map(m);o.has(t.id)?o.delete(t.id):o.set(t.id,t),h(o)},className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:[e.jsx("div",{className:"text-token-text-primary text-md flex-1 text-start",children:t.repository_full_name}),e.jsx("div",{className:"flex items-center",children:m.has(t.id)?e.jsx(E,{className:"icon-lg"}):e.jsx("div",{className:"flex h-6 items-center pe-0.5",children:e.jsx("div",{className:"border-token-border-heavy h-5 w-5 rounded-full border"})})})]},t.id)},t.id)}),i&&e.jsx("div",{ref:N,className:"h-1 w-full"}),l&&e.jsx("div",{className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:e.jsx(v,{className:"rounded-md",width:Math.random()*250+100,height:20})})]}):e.jsx("div",{className:"text-token-text-tertiary mt-5 flex h-full justify-center text-sm",children:e.jsx(k,{id:"IyK1Z7",defaultMessage:"No results found for “{searchTerm}”",values:{searchTerm:j}})})}),s&&e.jsx("div",{ref:y,className:d("from-token-main-surface-primary pointer-events-none absolute start-0 end-0 bottom-0 z-10 mt-auto h-20 bg-gradient-to-t to-transparent transition-opacity duration-200")})]})})})}export{z as G};
//# sourceMappingURL=f05qbhqoe2emb7iq.js.map
