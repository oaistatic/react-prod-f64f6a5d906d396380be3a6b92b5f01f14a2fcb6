import{r as m,j as C}from"./gg0tb34p9fzo1omt.js";import{a4 as r,j as R,h as x}from"./g670b8vtkhx0yc6d.js";import{dk as a,dl as k,dm as g,aW as h,aV as y}from"./forbprkns1cohsbl.js";function N(l,i){return{inProgress:"Running tool",finished:"Finished running tool",error:"Error running tool"}[i]}function I({messages:l,isRequestActive:i,isLastMessageInTurn:f,clientThreadId:u}){const e=l.filter(s=>s.author.role===r.Assistant&&s.recipient&&a(s.recipient)),A=l.filter(s=>s.author.role===r.Tool&&s.author.name&&a(s.author.name)),d=R(u),p=d?x.getConversationTurns(d).flatMap(s=>s.messages):[],S=p.findLastIndex(s=>s.author.role===r.Assistant&&s.recipient&&a(s.recipient)),E=S>=0&&p.slice(S+1).some(s=>s.author.role===r.Assistant&&(!s.recipient||!a(s.recipient))),c=e.length>0?e[e.length-1]:void 0,o=c&&c.recipient,T=c?.id,n=k(s=>T?s.getToolState(u,T):void 0);let t=null;A.length>0||n?.status===g.Finished?t={key:"finished",status:h.Finished}:n?.status===g.Error?t={key:"error",status:h.Error}:(n?.status===g.Running||i&&f&&!n)&&(t={key:"inProgress",status:h.Running});const M=m.useMemo(()=>!o||!t?null:N(o,t.key),[o,t]);return e.length===0||!o||E||!t?null:C.jsx(y,{highlightedCommand:M,showWorkUserSetting:!1,status:t.status,children:null})}export{I as BrowserToolMessage};
//# sourceMappingURL=hbyvf3e1dohqj57n.js.map
