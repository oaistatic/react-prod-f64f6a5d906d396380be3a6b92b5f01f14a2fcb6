import{r,j as m}from"./gg0tb34p9fzo1omt.js";import j from"./goe70pn8nvo8qwal.js";import{m as w}from"./kv8a9039cr2p5scx.js";import"./forbprkns1cohsbl.js";import"./g670b8vtkhx0yc6d.js";const R=({className:n,animate:t=!0,animationData:o,StaticIcon:a,staticFrameIndex:i=0,matchTextColor:u=!1,stopSmoothly:c=!1,loop:f=!0})=>{const e=r.useRef(null),[l,s]=r.useState(t),[p,S]=r.useState(t),[d,b]=r.useState(),[g,A]=r.useState(!0);return r.useEffect(()=>{t&&!p?(S(!0),s(!0),e.current?.play()):!t&&p&&(S(!1),c?(b(i),e.current?.animationItem&&e.current.animationItem.currentFrame>i&&A(!1)):(s(!1),e.current?.goToAndStop(i)))},[t,c,i,p]),!a||l?m.jsx(E,{className:n,animationData:o,matchTextColor:u,lottieRef:e,autoplay:l,onLoopComplete:()=>{g||A(!0)},onEnterFrame:()=>{d!=null&&g&&e.current?.animationItem&&e.current.animationItem.currentFrame>=d&&(s(!1),b(void 0),requestAnimationFrame(()=>{e.current?.goToAndStop(d)}))},loop:f&&l}):m.jsx(a,{className:n})},E=({animationData:n,className:t,matchTextColor:o=!0,loop:a=!0,...i})=>{const u=r.useRef(null),[c,f]=r.useState(()=>o?L(window.document.documentElement):null);r.useEffect(()=>{if(!u.current||!o)return;const l=()=>{u.current&&f(L(u.current))},s=new MutationObserver(()=>{l()});return s.observe(window.document.documentElement,{attributes:!0,attributeFilter:["class","style"]}),s.observe(u.current,{attributes:!0,attributeFilter:["class","style"]}),l(),()=>s.disconnect()},[o]);const e=r.useMemo(()=>o?w(n,c):n,[n,c,o]);return m.jsx("div",{ref:u,className:t,children:m.jsx(j,{animationData:e,loop:a,autoPlay:!0,...i},c?.join())})};function L(n){const t=getComputedStyle(n).color?.match(/\d+/g)?.map(Number).map(o=>o/255);return t?(t.push(1),t):null}export{R as AnimatedIconImpl};
//# sourceMappingURL=ehrjhfcg8hfxbid7.js.map
