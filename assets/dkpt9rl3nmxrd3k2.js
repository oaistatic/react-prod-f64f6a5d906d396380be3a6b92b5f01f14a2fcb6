import{r as B,j as t,c as C,M as k,h as Te,b as ee,m as fe,A as ke,R as be}from"./gg0tb34p9fzo1omt.js";import{a1 as Me,na as et,nb as he,m4 as tt,aD as D,m5 as st,i as Se,A as oe,co as nt,nc as ot,mq as it,mr as ue,fn as at,jZ as z,nd as rt,ne as Ie,nf as lt,ng as _e,nh as ct,ni as dt,nj as ut,nk as ft,nl as mt,nm as Y,nn as ht,no as Ee,np as pt,nq as xt,nr as gt,bE as me,cl as bt,lv as St,a5 as jt,mO as vt,ns as wt,nt as yt,nu as Pe,mJ as Ct,nv as Oe,nw as Le,nx as Nt,lr as Tt,ls as kt,ny as Mt,nz as It,nA as _t,nB as Et,nC as Pt,nD as Ot}from"./forbprkns1cohsbl.js";import{cD as Lt,dV as Ae,oH as ze,oI as At,ar as Be,ad as De,dm as Re,d as N,ox as zt,bU as M,cl as Bt,P as R,dX as Ge,aQ as pe,nB as xe,ck as Dt,e0 as Rt,m as re,kt as je,j5 as ae,e as Gt,hc as Ft,o as Fe,oJ as Ut,dw as Ht,gQ as Ue,cg as $t,dZ as Z,dU as Qt,c5 as Vt,cO as Wt,dj as te,eb as le,co as He,cq as Kt,a7 as Xt,gE as qt,F as Jt,h as Zt,cr as Yt,ct as es,j3 as ts,b$ as ss,c0 as ns,eq as os,c3 as is,c4 as as,oK as ve,ay as $e,az as Qe,b0 as Ve,bg as We,ki as rs,oC as ls,kK as cs,kL as we}from"./g670b8vtkhx0yc6d.js";import{G as ge,u as ds,S as us,a as Ke}from"./fz8lyjvdpywhlf94.js";function Xe({currentGizmoId:s}){"use forget";const e=Lt(),o=Ae(),n=Me(),{data:{gizmos:a=[]}={}}=ze(),{topGizmos:i,remainingGizmos:r}=B.useMemo(()=>{const l=n?a.filter(d=>!At(d.resource)):a,{topGizmos:m,remainingGizmos:c}=et(l);return{topGizmos:m,remainingGizmos:c}},[a,n]);return!e||o?null:t.jsx(fs,{currentGizmoId:s,maxToShowOnLoad:4,topGizmos:i,remainingGizmos:r})}const fs=s=>{"use forget";const e=C.c(15),{currentGizmoId:o,maxToShowOnLoad:n,topGizmos:a,remainingGizmos:i}=s,[r,l]=B.useState(!(Be.getItem(De.IsGptListCollapsed)??!0)),m=Math.max(a.length,n);let c;e[0]!==i||e[1]!==a?(c=[...a,...i],e[0]=i,e[1]=a,e[2]=c):c=e[2];let d=c;const u=d.length>m;if(u&&!r){let f;e[3]!==d||e[4]!==m?(f=d.slice(0,m-1),e[3]=d,e[4]=m,e[5]=f):f=e[5],d=f}let h;e[6]!==o||e[7]!==d?(h=d.map(f=>t.jsx(ge,{gizmo:f.resource,isActive:f.resource.gizmo.id===o,flair:f.flair.kind},f.resource.gizmo.id)),e[6]=o,e[7]=d,e[8]=h):h=e[8];let b;e[9]!==u||e[10]!==r?(b=u&&t.jsx(he,{onClick:f=>{f.preventDefault(),l(ms)},icon:Re,children:r?t.jsx(k,{id:"GizmoSidebarList.showLess",defaultMessage:"Show less"}):t.jsx(k,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"Show more"})}),e[9]=u,e[10]=r,e[11]=b):b=e[11];let p;return e[12]!==h||e[13]!==b?(p=t.jsxs(t.Fragment,{children:[h,b]}),e[12]=h,e[13]=b,e[14]=p):p=e[14],p};function ms(s){const e=!s;return Be.setItem(De.IsGptListCollapsed,!e),e}function hs({hasProjects:s}){const e=Te(),o=ee(),n=N(),[a,i]=B.useState(!1),{onDropConversation:r,canDropConversation:l}=ds("sidebar_header_plus"),{eligibleNux:m}=ps({hasProjects:s}),{canCreate:c}=zt(),d=t.jsx(he,{className:M(a&&"bg-token-bg-tertiary"),onDragEnter:u=>{l&&(u.preventDefault(),i(!0))},onDrop:u=>{l&&(u.preventDefault(),u.stopPropagation(),i(!1),r())},onDragLeave:()=>{i(!1)},disabled:!c,icon:tt,onClick:()=>{Bt(n,({onClose:u})=>t.jsx(st,{onClose:u,onSuccess:h=>{h&&e(`/g/${h}/project`)}})),m&&m.announcement.markAsViewed(),R.logEventWithStatsig("Projects: Create Open","chatgpt_web_projects_create_open",{source:"sidebar_row_button"})},children:t.jsx(k,{...D.newProjectButton})});return c?t.jsx(xs,{nux:m,children:d}):t.jsx(Ge,{label:o.formatMessage(D.createProjectDisabledByAdmin),children:d})}function ps({hasProjects:s}){const e=ee(),o=N(),n=pe(o).checkGate("2711769261"),a=Se(oe.hasSeenProjectsWebNuxTooltip),i=Se(oe.hasSeenProjectsUpdateNuxTooltip),r=s&&n&&!i.isLoading&&i.eligible,l=!r&&!i.isLoading&&!a.isLoading&&a.eligible,m={announcement:i,description:e.formatMessage(D.projectsUpdateTooltipDescription),key:oe.hasSeenProjectsUpdateNuxTooltip,title:e.formatMessage(D.projectsUpdateTooltipTitle)},c={announcement:a,description:e.formatMessage(D.projectsNuxTooltipDescription),key:oe.hasSeenProjectsWebNuxTooltip,title:e.formatMessage(D.projectsNuxTooltipTitle)};let d=null;return r?d=m:l&&(d=c),{eligibleNux:d,projectUpdateTooltip:m,projectTooltip:c,showProjectUpdateTooltip:r,showProjectTooltip:l}}function xs({children:s,nux:e}){const o=xe(),n=Dt(),a=Rt();return!e||n||!a||!o?t.jsx(t.Fragment,{children:s}):t.jsx(nt,{announcementKey:e.key,theme:"bright",side:"right",show:!0,badge:"new",dismissOnOutsideClick:!0,title:e.title,description:e.description,onDismiss:e.announcement.markAsViewed,sideOffset:-5,children:s})}function gs({currentGizmoId:s}){return t.jsx(ot,{label:t.jsx(k,{...D.seeMoreProjectItems}),icon:Re,children:t.jsx(us,{currentGizmoId:s,inSidebarFlyout:!0})})}function bs({snorlaxes:s,currentGizmoId:e}){return t.jsx(t.Fragment,{children:s.map(o=>t.jsx(ge,{gizmo:o.gizmo,isActive:o.gizmo.gizmo.id===e},o.gizmo.gizmo.id))})}function qe({currentGizmoId:s}){const{snorlaxes:e,data:o,isLoading:n,isError:a,refetch:i,hasNextPage:r}=it(),l=e.slice(0,ue),m=at(s),c=N(),d=re(c,"1693134918"),u=B.useRef(!1),[h,b]=B.useState(!0),p=B.useCallback(function(w){w&&b(!1),i()},[i,b]),f=a||o===void 0&&!n&&u.current;z.markStart("SnorlaxSidebarList",z.NS_SIDEBAR),o!=null&&!n&&z.markRendered("SnorlaxSidebarList",z.NS_SIDEBAR),o===void 0&&!n&&!u.current&&(u.current=!0,p(!1));const x=e?.find(v=>v.gizmo.gizmo.id===s),g=l.some(v=>v.gizmo.gizmo.id===s),j=e&&(e?.length>(!m||g?ue:ue+1)||r),y=t.jsx(t.Fragment,{children:n&&d?t.jsxs(t.Fragment,{children:[t.jsx(je,{}),t.jsx(je,{})]}):n?null:t.jsxs(t.Fragment,{children:[t.jsx(hs,{hasProjects:e?.length>0}),!1,t.jsx(bs,{snorlaxes:l,currentGizmoId:s}),x&&!g&&t.jsx(ge,{gizmo:x.gizmo,isActive:!0}),j&&t.jsx(gs,{currentGizmoId:s})]})});return t.jsxs(t.Fragment,{children:[f&&t.jsx(rt,{showRetry:h,refetch:p}),!f&&(d?y:t.jsx(Ie,{id:"snorlax-heading",children:y}))]})}function Ss({currentGizmoId:s,activeId:e,isSnorlaxEnabled:o}){const n=N(),a=re(n,"2560369700"),{data:{gizmos:i=[]}={}}=ze(),r=i.length>0;return t.jsxs(t.Fragment,{children:[a&&t.jsx(ie,{id:"favorites",title:t.jsx(k,{id:"sidebar.favorites",defaultMessage:"Favorites"}),children:t.jsx(lt,{})}),r&&t.jsx(ie,{id:"gpts",title:t.jsx(k,{id:"sidebar.gpts",defaultMessage:"GPTs"}),children:t.jsx(ae,{name:"GPTsSidebarList",children:t.jsx(Xe,{currentGizmoId:s})})}),o&&t.jsx(ie,{id:"projects",title:t.jsx(k,{id:"sidebar.projects",defaultMessage:"Projects"}),children:t.jsx(qe,{currentGizmoId:s})}),t.jsx(ie,{id:"chats",title:t.jsx(k,{id:"sidebar.chats",defaultMessage:"Chats"}),children:t.jsx(_e,{activeId:e})})]})}function ie(s){"use forget";const e=C.c(25),{title:o,id:n,children:a}=s,i=N(),r=ee();let l;e[0]!==i?(l=ct(i),e[0]=i,e[1]=l):l=e[1];const m=l,c=Gt(m.sidebarSectionState[n]);let d;e[2]!==n||e[3]!==m||e[4]!==c?(d=j=>{j.preventDefault(),c?m.collapseSection(n):m.expandSection(n)},e[2]=n,e[3]=m,e[4]=c,e[5]=d):d=e[5];const u=d;let h;e[6]!==r||e[7]!==c?(h=c?r.formatMessage({defaultMessage:"Collapse section",id:"sidebar.collapseSection"}):r.formatMessage({defaultMessage:"Expand section",id:"sidebar.expandSection"}),e[6]=r,e[7]=c,e[8]=h):h=e[8];const b=h;let p;e[9]!==o?(p=t.jsx(dt,{"data-no-spacing":!0,children:o}),e[9]=o,e[10]=p):p=e[10];let f;e[11]!==c?(f=c?t.jsx(ut,{className:"icon-xs"}):t.jsx(ft,{className:"icon-xs"}),e[11]=c,e[12]=f):f=e[12];let S;e[13]!==b||e[14]!==u||e[15]!==c||e[16]!==p||e[17]!==f?(S=t.jsxs(he,{onClick:u,"aria-expanded":c,"aria-label":b,"data-no-hover-bg":!0,"data-no-contents-gap":!0,children:[p,f]}),e[13]=b,e[14]=u,e[15]=c,e[16]=p,e[17]=f,e[18]=S):S=e[18];let x;e[19]!==a||e[20]!==c?(x=c&&t.jsx("div",{className:"mb-2",children:a}),e[19]=a,e[20]=c,e[21]=x):x=e[21];let g;return e[22]!==S||e[23]!==x?(g=t.jsxs(t.Fragment,{children:[S,x]}),e[22]=S,e[23]=x,e[24]=g):g=e[24],g}function js(s){"use forget";const e=C.c(5),{clientThreadId:o,onNewThread:n}=s,a=Ht(o),i=Ue(o),r=$t(),l=Me(),m=r?void 0:a;let c;return e[0]!==i||e[1]!==l||e[2]!==n||e[3]!==m?(c=t.jsx(vs,{currentGizmoId:i,activeId:m,isSnorlaxEnabled:l,onNewThread:n}),e[0]=i,e[1]=l,e[2]=n,e[3]=m,e[4]=c):c=e[4],c}function vs(s){"use forget";const e=C.c(13),{currentGizmoId:o,activeId:n,isSnorlaxEnabled:a,onNewThread:i}=s,r=N();let l;e[0]!==r?(l=re(r,"1693134918"),e[0]=r,e[1]=l):l=e[1];const m=l,c=Ae()&&!Ut(r);let d;e[2]!==i?(d=t.jsx(ht,{onNewThread:i}),e[2]=i,e[3]=d):d=e[3];let u;e[4]!==n||e[5]!==o||e[6]!==m||e[7]!==c||e[8]!==a?(u=t.jsx(Z,{fallback:null,children:t.jsx(B.Suspense,{children:m?t.jsx(ae,{name:"ExpandoSidebar",children:t.jsx(Ss,{currentGizmoId:o,activeId:n,isSnorlaxEnabled:a})}):t.jsxs(t.Fragment,{children:[!c&&t.jsxs(t.Fragment,{children:[t.jsxs(Ie,{first:!0,children:[t.jsx(Ee,{}),t.jsx(pt,{}),t.jsx(ae,{name:"GPTsSidebarList",children:t.jsx(Xe,{currentGizmoId:o})}),t.jsx(ae,{name:"ScheduleSidebarItem",children:t.jsx(xt,{})})]}),a&&t.jsx(qe,{currentGizmoId:o})]}),null,t.jsx(_e,{activeId:n})]})})}),e[4]=n,e[5]=o,e[6]=m,e[7]=c,e[8]=a,e[9]=u):u=e[9];let h;return e[10]!==d||e[11]!==u?(h=t.jsxs(t.Fragment,{children:[d,u]}),e[10]=d,e[11]=u,e[12]=h):h=e[12],h}function Zs(s){"use forget";const e=C.c(4),{clientThreadId:o,onNewThread:n}=s,a=N();let i;return e[0]!==o||e[1]!==a||e[2]!==n?(i=Fe(a)?t.jsx(js,{clientThreadId:o,onNewThread:n}):null,e[0]=o,e[1]=a,e[2]=n,e[3]=i):i=e[3],i}function ws(s){"use forget";const e=C.c(30),{onNewThread:o}=s,n=ee(),a=Ft(Ns),i=mt(),r=N();let l;e[0]!==r?(l=re(r,"1693134918"),e[0]=r,e[1]=l):l=e[1];const m=l;let c;e[2]!==n?(c=n.formatMessage({id:"Q6nsOM",defaultMessage:"Close sidebar"}),e[2]=n,e[3]=c):c=e[3];const d=c;let u;e[4]!==n?(u=n.formatMessage({id:"eMaQ9f",defaultMessage:"Apps"}),e[4]=n,e[5]=u):u=e[5];const h=u,b=B.useContext(Y),p=xe(),f=a?.visible&&a.getTitlebarAreaRect().left>0?"justify-end":"justify-between";let S;e[6]!==f?(S=M("h-header-height flex items-center",f),e[6]=f,e[7]=S):S=e[7];let x;e[8]!==o?(x=t.jsx(Ts,{onNewThread:o}),e[8]=o,e[9]=x):x=e[9];let g;e[10]!==i?(g=i&&t.jsx(gt,{}),e[10]=i,e[11]=g):g=e[11];let j;e[12]!==h||e[13]!==m?(j=m&&t.jsx(Qt,{triggerButton:t.jsx(me,{className:"no-draggable",color:"tertiary","aria-label":h,icon:bt,"data-testid":"apps-button"}),tooltip:h,side:"bottom",size:"auto",contentAlign:"start",alignOffset:-7,sideOffset:4,onCloseAutoFocus:Cs,children:t.jsx(Ee,{as:Vt.LinkItem})}),e[12]=h,e[13]=m,e[14]=j):j=e[14];const y=b==="popover"||p,v=b==="popover"?"stage-popover-sidebar":"stage-slideover-sidebar";let w;e[15]!==d||e[16]!==v||e[17]!==y?(w=t.jsx(me,{className:"no-draggable cursor-w-resize rtl:cursor-e-resize",color:"tertiary","aria-expanded":y,"aria-controls":v,"aria-label":d,onClick:ys,icon:St,mobileIcon:Wt,"data-testid":"close-sidebar-button"}),e[15]=d,e[16]=v,e[17]=y,e[18]=w):w=e[18];let T;e[19]!==d||e[20]!==w?(T=t.jsx(Ge,{label:d,triggerAs:null,children:w}),e[19]=d,e[20]=w,e[21]=T):T=e[21];let I;e[22]!==T||e[23]!==g||e[24]!==j?(I=t.jsxs("div",{className:"flex",children:[g,j,T]}),e[22]=T,e[23]=g,e[24]=j,e[25]=I):I=e[25];let _;return e[26]!==I||e[27]!==S||e[28]!==x?(_=t.jsxs("div",{id:"sidebar-header",className:S,children:[x,I]}),e[26]=I,e[27]=S,e[28]=x,e[29]=_):_=e[29],_}function ys(){te.setSidebarOpen(!1)}function Cs(s){return s.preventDefault()}function Ns(){return navigator.windowControlsOverlay}function Ts({onNewThread:s,testId:e}){const o=ee();return t.jsx(me,{onClick:n=>{const a=n.currentTarget.closest("nav");if(a&&a.scrollTop>0){a.scrollTo({top:0,behavior:"smooth"}),n.preventDefault();return}vt(n,s)},icon:jt,iconClassName:"icon-lg",color:"primary","aria-label":o.formatMessage({id:"H6SRdK",defaultMessage:"Home"}),"data-testid":e,as:"link"})}const ks=()=>{const s=Te();return t.jsxs("div",{className:"flex h-full flex-col gap-2 p-3",children:[t.jsx(ws,{onNewThread:()=>{wt(s)}}),t.jsx(Ms,{}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(yt,{})})]})},Je="border border-token-border-xlight bg-token-sidebar-surface-secondary";function A({className:s,width:e}){return t.jsx("div",{className:M("h-2.5 grow rounded-sm",Je,s),style:{maxWidth:e+"px"}})}function Ms(){const s=t.jsx("div",{className:M("h-4 w-4 shrink-0 grow-0 rounded-full",Je)});return t.jsxs("div",{className:"mt-2 flex w-full grow flex-col gap-4 overflow-hidden px-2",style:{maskImage:"linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 50%, transparent 100%)"},children:[t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(A,{width:80})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(A,{width:120})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(A,{width:100})]}),t.jsx("div",{className:"mt-5 flex flex-row items-center justify-start gap-3",children:t.jsx(A,{width:150})}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(A,{width:50})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(A,{width:100})]}),t.jsxs("div",{className:"mb-5 flex flex-row items-center justify-start gap-3",children:[s,t.jsx(A,{width:80})]}),[120,180,160,100,90,190,140,120,180,170,100,120,180,150].map((e,o)=>t.jsx("div",{className:"flex flex-row items-center justify-start py-1",children:t.jsx(A,{width:e})},o))]})}function Ys(s){"use forget";const e=C.c(2),{onNewChatButtonClick:o}=s,{isUnauthenticated:n,isLoading:a}=He();if(a||!n)return null;let i;return e[0]!==o?(i=t.jsx(Ke,{className:"me-3",onClick:()=>{R.logNewChatButtonClicked({location:"Mobile header"}),o()}}),e[0]=o,e[1]=i):i=e[1],i}function en(s){"use forget";const e=C.c(9),{onNewChatButtonClick:o,clientThreadId:n}=s,{isUnauthenticated:a,isLoading:i}=He(),r=Kt(),l=Ue(n),m=Xt(n,Zt.getIsNewConversation),c=qt(),d=m&&c&&!a&&!l,u=N();let h;e[0]!==u?(h=Jt(u,"2118136551").get("make_signup_sticky",!1),e[0]=u,e[1]=h):h=e[1];const b=h;if(i)return null;if(a){let x;return e[2]!==r||e[3]!==b?(x=b?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Ce,{}),t.jsx(ye,{})]}):r?t.jsx(Ce,{}):t.jsx(ye,{}),e[2]=r,e[3]=b,e[4]=x):x=e[4],x}let p;e[5]!==o?(p=t.jsx(Ke,{onClick:()=>{R.logNewChatButtonClicked({location:"Mobile header"}),o()}}),e[5]=o,e[6]=p):p=e[6];const f=p;if(!d)return f;let S;return e[7]!==n?(S=t.jsx(Ct,{variant:"secondary",clientThreadId:n}),e[7]=n,e[8]=S):S=e[8],S}function ye(){"use forget";const s=C.c(8),e=N();let o;s[0]===Symbol.for("react.memo_cache_sentinel")?(o={id:"navigation.signUpButtonText",defaultMessage:"Sign up",description:"Button text for Sign up button"},s[0]=o):o=s[0];const n=Yt(o);let a;s[1]!==e?(a=()=>{Ve(e,{authType:"signup",callback:Is})},s[1]=e,s[2]=a):a=s[2];let i;s[3]!==n?(i=t.jsx(k,{...n}),s[3]=n,s[4]=i):i=s[4];let r;return s[5]!==a||s[6]!==i?(r=t.jsx(We,{as:"button",size:"small",color:"primary",onClick:a,children:i}),s[5]=a,s[6]=i,s[7]=r):r=s[7],r}function Is(s){R.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:s})}function Ce(){"use forget";const s=C.c(5),e=N();let o;s[0]!==e?(o=()=>{Ve(e,{authType:"login",callback:_s})},s[0]=e,s[1]=o):o=s[1];let n;s[2]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(k,{...es.logInButtonText}),s[2]=n):n=s[2];let a;return s[3]!==o?(a=t.jsx(We,{as:"button",size:"small",color:"primary",onClick:o,"data-testid":"mobile-login-button",children:n}),s[3]=o,s[4]=a):a=s[4],a}function _s(s){R.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:s})}function Es(s){"use forget";const e=C.c(7),{onClick:o}=s,n=Tt(Mt,kt,!1,!0),a=le(Ps);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("span",{className:"sr-only",children:t.jsx(k,{id:"navigation.openSidebar",defaultMessage:"Open sidebar"})}),e[0]=i):i=e[0];let r;e[1]!==n?(r=t.jsx(n,{className:"icon-lg text-token-text-secondary mx-2"}),e[1]=n,e[2]=r):r=e[2];let l;return e[3]!==a||e[4]!==o||e[5]!==r?(l=t.jsxs("button",{type:"button",className:"hover:text-token-text-primary touch:h-10 touch:w-10 inline-flex h-9 w-9 items-center justify-center rounded-md focus:ring-2 focus:ring-white focus:outline-hidden focus:ring-inset active:opacity-50",onClick:o,"data-testid":"open-sidebar-button","aria-expanded":a,"aria-controls":"stage-popover-sidebar",children:[i,r]}),e[3]=a,e[4]=o,e[5]=r,e[6]=l):l=e[6],l}function Ps(s){return s.isPopoverSidebarOpen}const Os=s=>{"use forget";const e=C.c(22),{rightContentExpanded:o,onOpenSidebar:n,children:a,showNavSidebar:i,leftContent:r,rightContent:l,bottomContent:m}=s,c=le(Bs),{shouldShow:d}=Pe(),u=d?"absolute w-full bg-transparent":"bg-token-bg-primary sticky",h=c?"[box-shadow:var(--sharp-edge-top-shadow)]":"[box-shadow:var(--sharp-edge-top-shadow-placeholder)]";let b;e[0]!==u||e[1]!==h?(b=M("draggable h-header-height top-0 z-10 flex items-center justify-center border-transparent ps-0 md:hidden",u,h),e[0]=u,e[1]=h,e[2]=b):b=e[2];let p;e[3]!==r||e[4]!==n||e[5]!==i?(p=(i||r)&&t.jsxs("div",{className:"no-draggable absolute start-0 top-0 bottom-0 ms-2 inline-flex items-center justify-center",children:[i&&t.jsx(Es,{onClick:n}),r]}),e[3]=r,e[4]=n,e[5]=i,e[6]=p):p=e[6];let f;e[7]!==a?(f=t.jsx("div",{className:"no-draggable",children:a}),e[7]=a,e[8]=f):f=e[8];let S;e[9]!==l||e[10]!==o?(S=l&&t.jsx("div",{className:M("no-draggable absolute end-0 top-0 bottom-0 me-2 inline-flex items-center justify-center",o&&"start-10"),children:l}),e[9]=l,e[10]=o,e[11]=S):S=e[11];let x;e[12]!==b||e[13]!==p||e[14]!==f||e[15]!==S?(x=t.jsxs("div",{className:b,children:[p,f,S]}),e[12]=b,e[13]=p,e[14]=f,e[15]=S,e[16]=x):x=e[16];let g;e[17]!==m?(g=m&&t.jsx("div",{className:"no-draggable bg-token-bg-primary flex w-full items-center justify-center md:hidden",children:m}),e[17]=m,e[18]=g):g=e[18];let j;return e[19]!==x||e[20]!==g?(j=t.jsxs(t.Fragment,{children:[x,g]}),e[19]=x,e[20]=g,e[21]=j):j=e[21],j};function Ls(s){"use forget";const e=C.c(4),{isPopover:o,children:n,forceOpenDesktopSidebar:a}=s,i=o===void 0?!1:o;z.markStart("StageNavigationSidebar"),z.markRendered("StageNavigationSidebar");let r;return e[0]!==n||e[1]!==a||e[2]!==i?(r=i?t.jsx(zs,{children:n}):t.jsx(As,{forceOpenDesktopSidebar:a,children:n}),e[0]=n,e[1]=a,e[2]=i,e[3]=r):r=e[3],r}const Ze={type:"spring",bounce:.1,duration:.35},Ne={...Ze,duration:.4},As=s=>{"use forget";const e=C.c(24),{style:o,children:n,forceOpenDesktopSidebar:a}=s;Oe(Ds),z.trackNamespace(z.NS_SIDEBAR);const i=ts(),{shouldShow:r}=Pe(),l=xe()||a,m=i?Nt:Ze,c=l?"var(--sidebar-width)":"var(--sidebar-rail-width)",d=r?"transparent":l?"var(--bg-elevated-secondary)":"var(--bg-primary)";let u;e[0]!==c||e[1]!==d?(u={width:c,backgroundColor:d},e[0]=c,e[1]=d,e[2]=u):u=e[2];const h=l?"pointer-events-none opacity-0":"opacity-100",b=l?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let p;e[3]!==h||e[4]!==b?(p=M("absolute inset-0",h,b,"motion-safe:transition-opacity motion-safe:duration-150"),e[3]=h,e[4]=b,e[5]=p):p=e[5];let f;e[6]!==l||e[7]!==p?(f=t.jsx(Y.Provider,{value:"tiny_bar",children:t.jsx(Le,{className:p,inert:l,onOpen:Rs})}),e[6]=l,e[7]=p,e[8]=f):f=e[8];const S=l?"opacity-100":"pointer-events-none opacity-0",x=!r&&"bg-token-bg-elevated-secondary";let g;e[9]!==x||e[10]!==S?(g=M(S,"motion-safe:transition-opacity motion-safe:duration-150 motion-safe:ease-linear","h-full w-[var(--sidebar-width)] overflow-x-clip overflow-y-auto text-clip whitespace-nowrap",x),e[9]=x,e[10]=S,e[11]=g):g=e[11];const j=!l;let y;e[12]!==n||e[13]!==g||e[14]!==j?(y=t.jsx(Y.Provider,{value:"expanded_sidebar",children:t.jsx("div",{className:g,inert:j,children:n})}),e[12]=n,e[13]=g,e[14]=j,e[15]=y):y=e[15];let v;e[16]!==y||e[17]!==f?(v=t.jsxs("div",{className:"relative flex h-full flex-col",children:[f,y]}),e[16]=y,e[17]=f,e[18]=v):v=e[18];let w;return e[19]!==o||e[20]!==m||e[21]!==v||e[22]!==u?(w=t.jsx(fe.div,{className:"border-token-border-light relative z-21 h-full shrink-0 overflow-hidden border-e max-md:hidden",transition:m,initial:!1,animate:u,style:o,id:"stage-slideover-sidebar",children:v}),e[19]=o,e[20]=m,e[21]=v,e[22]=u,e[23]=w):w=e[23],w},zs=s=>{"use forget";const e=C.c(21),{children:o}=s;Oe(Gs);const n=N(),a=pe(n).checkGate("1536947154"),i=le(Fs),r=ve,l=Us,m=i?"pointer-events-none opacity-0":"opacity-100",c=i?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let d;e[0]!==m||e[1]!==c?(d=M("absolute inset-0",m,c,"motion-safe:transition-opacity motion-safe:duration-150"),e[0]=m,e[1]=c,e[2]=d):d=e[2];let u;e[3]!==i||e[4]!==d?(u=t.jsx("div",{className:"border-token-border-light relative z-21 h-full w-[var(--sidebar-rail-width)] shrink-0 overflow-hidden border-e max-md:hidden",children:t.jsx(Y.Provider,{value:"tiny_bar",children:t.jsx(Le,{className:d,inert:i,onOpen:Hs})})}),e[3]=i,e[4]=d,e[5]=u):u=e[5];const h=ve,b=!0,p=ke;let f;e[6]!==i?(f=i&&t.jsx(ss,{asChild:!0,children:t.jsx(fe.div,{className:"fixed inset-0 z-10 bg-gray-50/50 dark:bg-black/50",transition:Ne,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.12}}})}),e[6]=i,e[7]=f):f=e[7];const S=i&&t.jsx(ns,{asChild:!0,onOpenAutoFocus:$s,children:t.jsxs(fe.div,{className:M("bg-token-sidebar-surface-primary top-banner-visible:bottom-0 top-banner-visible:top-(--top-banner-height,0px) top-banner-visible:h-auto fixed start-0 top-0 z-50 h-full w-[var(--sidebar-width)] max-w-xs border-e border-gray-200 shadow-[0_0_64px_0_rgba(0,0,0,0.07)] [view-transition-name:var(--sidebar-popover)] focus:outline-hidden dark:border-gray-800",a&&"pb-[env(safe-area-inset-bottom,0px)]"),transition:Ne,id:"stage-popover-sidebar",initial:{translateX:"-100%"},animate:{translateX:"0"},exit:{translateX:"-100%",transition:{duration:.12}},children:[t.jsx(os,{asChild:!0,children:t.jsxs(is,{children:[t.jsx(k,{id:"navigation.sidebarTitle",defaultMessage:"Sidebar"}),t.jsx(as,{})]})}),t.jsx(Y.Provider,{value:"popover",children:o})]})});let x;e[8]!==p||e[9]!==S||e[10]!==f?(x=t.jsxs(p,{children:[f,S]}),e[8]=p,e[9]=S,e[10]=f,e[11]=x):x=e[11];let g;e[12]!==x||e[13]!==h.Portal?(g=t.jsx(h.Portal,{forceMount:b,children:x}),e[12]=x,e[13]=h.Portal,e[14]=g):g=e[14];let j;return e[15]!==i||e[16]!==r.Root||e[17]!==g||e[18]!==l||e[19]!==u?(j=t.jsxs(r.Root,{open:i,onOpenChange:l,children:[u,g]}),e[15]=i,e[16]=r.Root,e[17]=g,e[18]=l,e[19]=u,e[20]=j):j=e[20],j};function Bs(s){return s.isConversationScrolledFromTop}function Ds(){$e.count(Qe.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"slideover"}),R.logEvent("Sidebar Show",{type:"slideover"})}function Rs(){return te.setSidebarOpen(!0)}function Gs(){$e.count(Qe.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"popover"}),R.logEvent("Sidebar Show",{type:"popover"})}function Fs(s){return s.isPopoverSidebarOpen}function Us(s){te.setPopoverSidebarOpen(s)}function Hs(){return te.setPopoverSidebarOpen(!0)}function $s(s){s.preventDefault()}function Ye(s){"use forget";const e=C.c(73),{children:o,hideNavigation:n,mobileHeaderContent:a,mobileHeaderRightContentExpanded:i,mobileHeaderLeftContent:r,mobileHeaderRightContent:l,mobileHeaderBottomContent:m,renderNavSidebar:c,threadFlyout:d,forceOpenDesktopSidebar:u}=s,h=n===void 0?!1:n,b=u===void 0?!1:u,p=N(),f=!Fe(p),S=le(Vs),x=rs(),g=ls(),j=cs();let y,v;e[0]!==o?(y=[],v=null,be.Children.forEach(o,q=>{be.isValidElement(q)&&(q.type===Ye.Sidebars?v=q:y.push(q))}),e[0]=o,e[1]=y,e[2]=v):(y=e[1],v=e[2]);const w=!f&&!h&&c!=null,T=!h&&(w||f)&&!0;let I;e[3]!==j?(I=j?we(j,"summarizer"):!1,e[3]=j,e[4]=I):I=e[4];const _=I,ce=j?!we(j,"summarizer"):!1;let G,F,E,U,H,P,$,O,L;if(e[5]!==S||e[6]!==p||e[7]!==b||e[8]!==g||e[9]!==x||e[10]!==f||e[11]!==m||e[12]!==a||e[13]!==i||e[14]!==r||e[15]!==l||e[16]!==c||e[17]!==ce||e[18]!==T||e[19]!==w||e[20]!==_){const q=pe(p).checkGate("1536947154");G=x&&(_||ce),F="flex h-full w-full flex-col",e[30]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(Z,{children:t.jsx(It,{})}),e[30]=E):E=e[30];const de=S!=="popover-nav"&&"z-0";e[31]!==de?(L=M("relative flex h-full w-full flex-1 transition-colors",de),e[31]=de,e[32]=L):L=e[32],$="relative flex h-full w-full flex-row";let J;e[33]!==b||e[34]!==g||e[35]!==f||e[36]!==c||e[37]!==w?(J=w&&t.jsx(Ls,{isPopover:g,forceOpenDesktopSidebar:b,children:f?t.jsx(ks,{}):c?.()}),e[33]=b,e[34]=g,e[35]=f,e[36]=c,e[37]=w,e[38]=J):J=e[38],e[39]!==J?(O=t.jsx(ke,{initial:!1,children:J}),e[39]=J,e[40]=O):O=e[40],H="relative flex h-full max-w-full flex-1 flex-col",e[41]!==m||e[42]!==a||e[43]!==i||e[44]!==r||e[45]!==l||e[46]!==T||e[47]!==w?(P=T&&t.jsxs(Z,{children:[t.jsx(_t,{}),t.jsx(Os,{rightContentExpanded:i,onOpenSidebar:Qs,showNavSidebar:w,leftContent:r,rightContent:l,bottomContent:m,children:a})]}),e[41]=m,e[42]=a,e[43]=i,e[44]=r,e[45]=l,e[46]=T,e[47]=w,e[48]=P):P=e[48],U=M("transition-width relative h-full w-full flex-1 overflow-auto",q&&"-translate-y-[calc(env(safe-area-inset-bottom,0px)/2)] pt-[calc(env(safe-area-inset-bottom,0px)/2)]"),e[5]=S,e[6]=p,e[7]=b,e[8]=g,e[9]=x,e[10]=f,e[11]=m,e[12]=a,e[13]=i,e[14]=r,e[15]=l,e[16]=c,e[17]=ce,e[18]=T,e[19]=w,e[20]=_,e[21]=G,e[22]=F,e[23]=E,e[24]=U,e[25]=H,e[26]=P,e[27]=$,e[28]=O,e[29]=L}else G=e[21],F=e[22],E=e[23],U=e[24],H=e[25],P=e[26],$=e[27],O=e[28],L=e[29];let Q;e[49]!==y||e[50]!==U?(Q=t.jsx("main",{className:U,id:"main","z-index":"-1",children:y}),e[49]=y,e[50]=U,e[51]=Q):Q=e[51];let V;e[52]!==Q||e[53]!==H||e[54]!==P?(V=t.jsxs("div",{className:H,children:[P,Q]}),e[52]=Q,e[53]=H,e[54]=P,e[55]=V):V=e[55];let W;e[56]!==V||e[57]!==$||e[58]!==O?(W=t.jsxs("div",{className:$,children:[O,V]}),e[56]=V,e[57]=$,e[58]=O,e[59]=W):W=e[59];let K;e[60]!==G||e[61]!==d?(K=t.jsx(Z,{children:t.jsx(Et,{isExpanded:G,children:d})}),e[60]=G,e[61]=d,e[62]=K):K=e[62];let X;e[63]!==v||e[64]!==W||e[65]!==K||e[66]!==L?(X=t.jsxs("div",{className:L,children:[W,K,v]}),e[63]=v,e[64]=W,e[65]=K,e[66]=L,e[67]=X):X=e[67];let se;e[68]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs(Z,{children:[t.jsx(Pt,{}),t.jsx(Ot,{useManuallyControlledVisibility:!0})]}),e[68]=se):se=e[68];let ne;return e[69]!==F||e[70]!==E||e[71]!==X?(ne=t.jsxs("div",{className:F,children:[E,X,se]}),e[69]=F,e[70]=E,e[71]=X,e[72]=ne):ne=e[72],ne}function Qs(){return te.setSidebarOpen(!0)}function Vs(s){return s.activeSidebar}function Ws(s){"use forget";const e=C.c(2),{children:o}=s;let n;return e[0]!==o?(n=t.jsx(t.Fragment,{children:o}),e[0]=o,e[1]=n):n=e[1],n}Ye.Sidebars=Ws;export{Zs as C,vs as S,ws as a,Ye as b,Ys as c,en as d};
//# sourceMappingURL=dkpt9rl3nmxrd3k2.js.map
