import{gU as T,kw as w,ch as b,ar as h,ad as _,cD as R,d as v,F as y,s3 as I,S as L,P as O}from"./g670b8vtkhx0yc6d.js";import{nL as M,oP as F}from"./forbprkns1cohsbl.js";import{h as k,o as A,b as x,u as U,r as n,e as q}from"./gg0tb34p9fzo1omt.js";var z={};const C={oiw216z:`${z.VITE_OIW216Z_SERVICE_URL??"https://sora.com"}/subscription`,vza493q:T,students:M(!0)},G=w(function(){const c=k(),[r]=A(),u=b(),i=x(),l=U(),s=h.getItem(_.CheckoutFrom),t=R(),e=r.get("plan_type")??"plus",o=v(),p=y(o,"2494348560"),{anyConnectorEnabled:g,isLoading:m}=I(),E=n.useRef(e);return n.useEffect(()=>{e==="plus"&&t!=null&&L.logEvent("chatgpt_plus_payment_success_page")},[e,t]),n.useEffect(()=>{if(m||t==null)return;const d=!g&&p.get("enable_ca_pro_onboarding_flow",!1)&&E.current==="pro",P="free",S=F(e);O.logPaymentSuccess({plan_type:e});let f=!0;if(t.planType===P)l.invalidateQueries({queryKey:["account-status"]});else{if(s&&C[s])h.removeItem(_.CheckoutFrom),window.location.href=C[s],f=s!=="students";else if(d)window.location.href="/payments/success-ind";else{const a=y(o,"2239990662").get("redirect_to_home",!1);c(a?"/":"/#pricing")}if(f&&!d){const a=i.formatMessage(K.paymentConfirmationToastMessage,{planName:S});u.success(a,{duration:5})}}},[c,r,u,i,l,s,t,e,m,g,p,o]),null}),K=q({paymentConfirmationToastMessage:{id:"Payments.success.toast",defaultMessage:"You're now subscribed to ChatGPT {planName}"}});export{C,G as p};
//# sourceMappingURL=in9skfbx4r8neufs.js.map
