import{b as k,j as e,M as c,e as N,r as i,o as D,u as _,h as U,A as G,l as B,m as R}from"./gg0tb34p9fzo1omt.js";import{jl as z,cD as S,lT as H,ch as I,cG as X,P as d,bg as j,ct as W,d as Y,cK as K,b6 as $,eM as V}from"./g670b8vtkhx0yc6d.js";import{S as C,a as q,P as L,b as E,c as Q}from"./ncn54k434onrygfk.js";import{cH as J,cO as Z,gK as ee,fR as te}from"./forbprkns1cohsbl.js";import{a as ae}from"./bt9yvsktni2sjcsh.js";import{c as se}from"./iej0cupg2dqkmejt.js";import{u as ne}from"./kixrx07i59clw88k.js";import{u as oe,m as ie}from"./b45t2szdibt7lu65.js";import{G as ce}from"./n4qkdxaakftmjxlk.js";import{u as re}from"./gfuvaxw6r0src7j4.js";function le({workspaceName:a,onChangeWorkspaceName:t,showHeader:s=!0}){const n=k();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(c,{...w.workspaceNameLabel})}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(c,{...w.workspaceNameDescription})})]}),e.jsx(z,{ariaLabel:!1,type:"text",name:"workspace-name",placeholder:n.formatMessage(w.exampleTeamWorkspaceName),value:a,onChange:o=>t(o.target.value),maxLength:64})]})}const w=N({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Set a workspace name for your team. The name can be changed at any time."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}});function de({onNext:a}){const t=S();return t?e.jsx(ue,{onNext:a,currentAccount:t}):e.jsx(H,{})}function ue({onNext:a,currentAccount:t}){const s=k(),n=I(),o=X(),u=t.data,m=J(s,t,o),[l,M]=i.useState(m||""),[p]=D(),y=p.get("account_id"),b=oe(y??t.data.id),f=i.useCallback(async()=>{if(!t)return;const g=t.subscriptionAnalyticsParams;d.logEvent("Account Pay: Create Workspace Modal Clicked",g);try{l!==u.name&&(await b.mutateAsync({name:l}),d.logEvent("Account Pay: Create Workspace Modal Renamed",g)),a()}catch{n.warning(s.formatMessage(ie.saveError),{hasCloseButton:!0})}},[t,u.name,s,a,b,n,l]);return i.useEffect(()=>{if(!t)return;const g=t.subscriptionAnalyticsParams;d.logEvent("Account Pay: Create Workspace Modal Show",g)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(c,{...Z.nameWorkspace})}),e.jsx(q,{children:e.jsx(le,{workspaceName:l,onChangeWorkspaceName:M,showHeader:!1})}),e.jsx(j,{loading:b.isPending||t==null,onClick:()=>{f()},disabled:l.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(c,{...W.continueButtonText})})]})}var F=(a=>(a.Landing="landing",a.Setup="setup",a.Naming="naming",a.Invite="invite",a.CAOnboarding="caOnboarding",a.Complete="complete",a))(F||{});const me={enter:a=>({translateX:a>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:a=>({translateX:a<=0?"50%":"-50%",opacity:0})};function pe(){const a=_(),t=U(),{currentPath:s,currentStep:n}=be(),{data:o}=ne(),u=re(),m=i.useMemo(()=>o?.status==="completed"&&o?.workspace_name&&u?["landing","invite","caOnboarding","complete"]:["landing","naming","invite","caOnboarding","complete"],[o?.status,o?.workspace_name,u]),l=k(),M=I(),[p,y]=i.useState(1),[b]=D(),f=b.get("account_id"),g=Y();i.useEffect(()=>{function x(){y(-1)}return window.addEventListener("popstate",x),()=>{window.removeEventListener("popstate",x)}},[]);const h=()=>{y(1);let x=m.indexOf(n);const P=m[x+1],A=P==="caOnboarding"?$(g,"555825174").get("enabled",!1):!1;P==="caOnboarding"&&d.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:f,experimentFlag:A}),P==="caOnboarding"&&!A&&x++;const O=x+1;f&&t("/"),x!==-1&&O<m.length&&t(s+"#"+m[O])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(G,{mode:"wait",custom:p,children:[n==="landing"&&e.jsx(v,{initial:!1,custom:p,children:e.jsx(ge,{onNext:h})},"landing"),n==="naming"&&e.jsx(v,{initial:!1,custom:p,children:e.jsx(de,{onNext:h})},"naming"),n==="invite"&&e.jsx(v,{custom:p,children:e.jsx(xe,{onNext:h})},"invite"),n==="caOnboarding"&&e.jsx(v,{custom:p,children:e.jsx(je,{onNext:h})},"caOnboarding"),n==="complete"&&e.jsx(v,{custom:p,children:e.jsx(ke,{onNext:()=>{h(),f&&K(a,f,g,l,M),t("/")}})},"complete")]})})}const v=a=>e.jsx(R.div,{initial:"enter",animate:"center",exit:"exit",variants:me,transition:{translateX:{type:"just"},opacity:{duration:.2}},...a});function ge({onNext:a}){const t=S(),s=i.useCallback(()=>{if(!t)return;const n=t.subscriptionAnalyticsParams;d.logEvent("Account Pay: Payment Confirmation Modal Clicked",n)},[t]);return i.useEffect(()=>{if(!t)return;const n=t.subscriptionAnalyticsParams;d.logEvent("Account Pay: Payment Confirmation Modal Show",n)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(L,{isTrial:!1}),e.jsx(C,{children:e.jsx(c,{...r.standard})}),e.jsx(E,{children:e.jsx(c,{...r.description})}),e.jsx(j,{onClick:()=>{a(),s()},size:"large",loading:t==null,fullWidth:!0,children:e.jsx(c,{...W.continueButtonText})})]})}function xe({onNext:a}){const t=k(),s=S(),{data:n}=ee(),o=i.useMemo(()=>s?.subscriptionAnalyticsParams,[s]);return i.useEffect(()=>{s!=null&&d.logEvent("Account Pay: Invite Collaborators Modal Show",o)},[o,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(c,{...r.inviteTitle,values:{seatCount:n.seats_entitled,workspaceName:s.data.name}})}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(c,{...r.completeDescription})}),e.jsx(ae,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:t.formatMessage(r.skipAddMembers),onCancel:a,onSuccess:a,seatCount:n.seats_entitled})]})}const fe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",he="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function je({onNext:a}){const t=k(),s=S(),[n,o]=i.useState(!1),[u,m]=i.useState(!1);return i.useEffect(()=>{if(!s)return;const l=s.subscriptionAnalyticsParams;d.logEvent("Account Pay: Contextual Answers Step Shown",l)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:fe,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>m(!0)}),!u&&e.jsx("img",{src:he,alt:t.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:t.formatMessage(r.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:t.formatMessage(r.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(j,{onClick:()=>o(!0),icon:V,size:"large",fullWidth:!0,children:t.formatMessage(r.caOnboardingConnectButton)}),e.jsx(j,{onClick:()=>a(),size:"large",fullWidth:!0,color:"ghost",children:t.formatMessage(r.skipCaOnboarding)})]}),n&&e.jsx(ce,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:l=>{o(!1),l&&a()}})]})}function ke({onNext:a}){const t=S(),s=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]);i.useEffect(()=>{d.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{d.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(c,{...r.completeTitle})}),e.jsx(E,{children:e.jsx(c,{...r.completeDescription})}),e.jsx(j,{onClick:()=>{a(),n()},size:"large",fullWidth:!0,children:e.jsx(c,{...r.continueToChatgpt})})]})}function be(){const{hash:a,pathname:t,search:s}=B(),n=a.slice(1);return{currentStep:ve(n)?n:"landing",currentPath:t+s}}const ve=se(F),r=N({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function Oe({isTrial:a,isTeam:t}){const s=k(),n=U(),o=i.useCallback(u=>{u.preventDefault(),d.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(Q,{children:[e.jsx(te,{children:e.jsx("title",{children:s.formatMessage(T.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:t?e.jsx(pe,{}):e.jsx(Se,{isTrial:a,onContinue:o})})]})}function Se({isTrial:a,onContinue:t}){const s=a?T.trial:T.standard;return e.jsxs(e.Fragment,{children:[e.jsx(L,{isTrial:!!a}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(C,{children:e.jsx(c,{...s})}),e.jsx(E,{children:e.jsx(c,{...T.paymentReceived})}),e.jsx(j,{onClick:t,size:"large",fullWidth:!0,children:e.jsx(c,{...W.continueButtonText})})]})]})}const T=N({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{Oe as P};
//# sourceMappingURL=ist4oy5us204hwva.js.map
