import{oG as bt,di as ge,c2 as Wt,jR as pe,P as Dt,dX as xe}from"./g670b8vtkhx0yc6d.js";import{x as Gt,bT as Qt,qN as be,ij as ke,ik as we,ir as de,sk as Tt,sl as O,r2 as Yt,sm as U,sn as _,so as I,sp as z,sq as J,sr as Z,ss as N,r0 as ve,st as Y,su as dt,sv as X,sw as Ce,sx as ye,sy as it,sz as Ae,sA as Lt,sB as Se}from"./forbprkns1cohsbl.js";import{r as Zt,j as P,m as Fe,M as De}from"./gg0tb34p9fzo1omt.js";import{m as Te,b as Le,n as ze}from"./exrawr7mctocf8w4.js";import{h as Xt,l as Ee}from"./f4wsvwai0sxxe1lf.js";const qr=()=>t=>{Gt(t,e=>{if(!Qt(e)||e.name!==bt)return;const n=e.data??(e.data={}),i=e.attributes?.index;if(i==null)return;n.hName=bt,n.hProperties={index:i};let r="inline";switch(e.type){case"textDirective":r="inline";break;case"leafDirective":r="block";break;case"containerDirective":r="container";break}n.hProperties.displayLayout=r})},zt="contextList";function Pr(){return t=>{Gt(t,e=>{if(!Qt(e)||e.name!==zt)return;const n=e.data??(e.data={});n.hName=zt})}}function Me(t){if(typeof t!="object"||t==null||!("props"in t)||t.props==null)return;const e=t.props;if(e.node?.tagName===bt)return parseInt(e.index)}const Et=Wt.div`gap-6 border-b pb-4 my-4 context-list border-token-border-default`;function Or({children:t}){const e=Zt.useContext(be),n=Array.isArray(t)?t:ge([t]);if(n.length===0||e?.analyticsMetadata.turnIndex===void 0)return null;const[i,...r]=n,l=Me(i);if(l!=null&&e!=null){const a=e?.contentReferences?.[l],o=a?.type==="image_v2",u=a?.type==="optimistic_image_citation";if(o||u)return P.jsxs(Et,{className:"flex w-full",children:[P.jsx("div",{className:"grow leading-normal",children:r}),P.jsxs("div",{className:"mt-2 flex w-24 shrink-0",children:[o&&a.images[0]&&P.jsx(Ie,{imageRef:a,analyticsMetadata:e.analyticsMetadata}),u&&P.jsx(Re,{optimisticRef:a})]})]})}return P.jsx(Et,{className:"leading-normal",children:n})}const Jt=Wt.button`not-prose flex w-full h-fit	items-center justify-center overflow-hidden rounded-lg max-h-48`;function Ie({imageRef:t,analyticsMetadata:e}){const n=t.images[0],i=n.thumbnail_size.width/n.thumbnail_size.height,r=Te(n,{width:200,height:Math.max(Math.round(200/i),112)}),{isSuccess:l}=Le(r),a=ke.useStore(),o=Zt.useRef(!1),u={...pe(e),type:"context_list_image_thumbnail",image_url:r};return o.current||(o.current=!0,Dt.logEventWithStatsig("Search Content Reference Shown","search_content_reference_shown",u)),P.jsx(Jt,{onClick:()=>{a.setCurrentImage({image:n,source:we.Turn,analyticsMetadata:e}),Dt.logEventWithStatsig("Search Content Reference Clicked","search_content_reference_clicked",u)},children:P.jsx(Fe.img,{src:r,className:"w-full object-cover",alt:n.title,initial:{opacity:0},animate:l?{opacity:1}:{},whileHover:{scale:1.1,transition:ze}})})}function Re({optimisticRef:t}){return P.jsx(Jt,{children:t.status==="done"?P.jsx(xe,{label:P.jsx(De,{id:"8JYwCi",defaultMessage:"Error fetching image"}),children:P.jsx(de,{className:"text-token-text-tertiary h-24 w-12"})}):P.jsx("div",{className:"bg-token-main-surface-tertiary h-24 w-full animate-pulse"})})}const Kt=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Mt={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function te(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function qe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function Pe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function It(t){return Pe(t)||te(t)}const G=String.fromCharCode,Oe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function vt(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,i=[];let r=0,l=-1,a="",o,u;e.position&&("start"in e.position||"indent"in e.position?(u=e.position.indent,o=e.position.start):o=e.position);let h=(o?o.line:0)||1,f=(o?o.column:0)||1,c=m(),p;for(r--;++r<=t.length;)if(p===10&&(f=(u?u[l]:0)||1),p=t.charCodeAt(r),p===38){const s=t.charCodeAt(r+1);if(s===9||s===10||s===12||s===32||s===38||s===60||Number.isNaN(s)||n&&s===n){a+=G(p),f++;continue}const v=r+1;let d=v,y=v,F;if(s===35){y=++d;const S=t.charCodeAt(y);S===88||S===120?(F="hexadecimal",y=++d):F="decimal"}else F="named";let D="",T="",k="";const L=F==="named"?It:F==="decimal"?te:qe;for(y--;++y<=t.length;){const S=t.charCodeAt(y);if(!L(S))break;k+=G(S),F==="named"&&Kt.includes(k)&&(D=k,T=Tt(k))}let q=t.charCodeAt(y)===59;if(q){y++;const S=F==="named"?Tt(k):!1;S&&(D=k,T=S)}let b=1+y-v,E="";if(!(!q&&e.nonTerminated===!1))if(!k)F!=="named"&&g(4,b);else if(F==="named"){if(q&&!T)g(5,1);else if(D!==k&&(y=d+D.length,b=1+y-d,q=!1),!q){const S=D?1:3;if(e.attribute){const j=t.charCodeAt(y);j===61?(g(S,b),T=""):It(j)?T="":g(S,b)}else g(S,b)}E=T}else{q||g(2,b);let S=Number.parseInt(k,F==="hexadecimal"?16:10);if(Ne(S))g(7,b),E=G(65533);else if(S in Mt)g(6,b),E=Mt[S];else{let j="";je(S)&&g(6,b),S>65535&&(S-=65536,j+=G(S>>>10|55296),S=56320|S&1023),E=j+G(S)}}if(E){w(),c=m(),r=y-1,f+=y-v+1,i.push(E);const S=m();S.offset++,e.reference&&e.reference.call(e.referenceContext,E,{start:c,end:S},t.slice(v-1,y)),c=S}else k=t.slice(v-1,y),a+=k,f+=k.length,r=y-1}else p===10&&(h++,l++,f=0),Number.isNaN(p)?w():(a+=G(p),f++);return i.join("");function m(){return{line:h,column:f,offset:r+((o?o.offset:0)||0)}}function g(s,v){let d;e.warning&&(d=m(),d.column+=v,d.offset+=v,e.warning.call(e.warningContext,Oe[s],d,s))}function w(){a&&(i.push(a),e.text&&e.text.call(e.textContext,a,{start:c,end:m()}),a="")}}function Ne(t){return t>=55296&&t<=57343||t>1114111}function je(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const $e=/["&'<>`]/g,_e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Be=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Ve=/[|\\{}()[\]^$+*?.]/g,Rt=new WeakMap;function ee(t,e){if(t=t.replace(e.subset?He(e.subset):$e,i),e.subset||e.escapeOnly)return t;return t.replace(_e,n).replace(Be,i);function n(r,l,a){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,a.charCodeAt(l+2),e)}function i(r,l,a){return e.format(r.charCodeAt(0),a.charCodeAt(l+1),e)}}function He(t){let e=Rt.get(t);return e||(e=Ue(t),Rt.set(t,e)),e}function Ue(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(Ve,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const We=/[\dA-Fa-f]/;function Ge(t,e,n){const i="&#x"+t.toString(16).toUpperCase();return n&&e&&!We.test(String.fromCharCode(e))?i:i+";"}const Qe=/\d/;function Ye(t,e,n){const i="&#"+String(t);return n&&e&&!Qe.test(String.fromCharCode(e))?i:i+";"}const rt={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Ze=["cent","copy","divide","gt","lt","not","para","times"],ne={}.hasOwnProperty,kt={};let K;for(K in rt)ne.call(rt,K)&&(kt[rt[K]]=K);const Xe=/[^\dA-Za-z]/;function Je(t,e,n,i){const r=String.fromCharCode(t);if(ne.call(kt,r)){const l=kt[r],a="&"+l;return n&&Kt.includes(l)&&!Ze.includes(l)&&(!i||e&&e!==61&&Xe.test(String.fromCharCode(e)))?a:a+";"}return""}function Ke(t,e,n){let i=Ge(t,e,n.omitOptionalSemicolons),r;if((n.useNamedReferences||n.useShortestReferences)&&(r=Je(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const l=Ye(t,e,n.omitOptionalSemicolons);l.length<i.length&&(i=l)}return r&&(!n.useShortestReferences||r.length<i.length)?r:i}function tn(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Nr(t,e){return ee(t,Object.assign({format:Ke},e))}function en(t,e){return ee(t,Object.assign({format:tn},e))}const nn={}.hasOwnProperty,qt=/^[^\t\n\r "#'.<=>`}]+$/;et.peek=hn;function rn(){return{canContainEols:["textDirective"],enter:{directiveContainer:ln,directiveContainerAttributes:lt,directiveContainerLabel:sn,directiveLeaf:un,directiveLeafAttributes:lt,directiveText:on,directiveTextAttributes:lt},exit:{directiveContainer:mt,directiveContainerAttributeClassValue:ot,directiveContainerAttributeIdValue:ut,directiveContainerAttributeName:ct,directiveContainerAttributeValue:st,directiveContainerAttributes:ht,directiveContainerLabel:cn,directiveContainerName:at,directiveLeaf:mt,directiveLeafAttributeClassValue:ot,directiveLeafAttributeIdValue:ut,directiveLeafAttributeName:ct,directiveLeafAttributeValue:st,directiveLeafAttributes:ht,directiveLeafName:at,directiveText:mt,directiveTextAttributeClassValue:ot,directiveTextAttributeIdValue:ut,directiveTextAttributeName:ct,directiveTextAttributeValue:st,directiveTextAttributes:ht,directiveTextName:at}}}function an(){return{unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}],handlers:{containerDirective:et,leafDirective:et,textDirective:et}}}function ln(t){Ct.call(this,"containerDirective",t)}function un(t){Ct.call(this,"leafDirective",t)}function on(t){Ct.call(this,"textDirective",t)}function Ct(t,e){this.enter({type:t,name:"",attributes:{},children:[]},e)}function at(t){const e=this.stack[this.stack.length-1];O(e.type==="containerDirective"||e.type==="leafDirective"||e.type==="textDirective"),e.name=this.sliceSerialize(t)}function sn(t){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},t)}function cn(t){this.exit(t)}function lt(){this.data.directiveAttributes=[],this.buffer()}function ut(t){this.data.directiveAttributes.push(["id",vt(this.sliceSerialize(t),{attribute:!0})])}function ot(t){this.data.directiveAttributes.push(["class",vt(this.sliceSerialize(t),{attribute:!0})])}function st(t){const e=this.data.directiveAttributes;e[e.length-1][1]=vt(this.sliceSerialize(t),{attribute:!0})}function ct(t){this.data.directiveAttributes.push([this.sliceSerialize(t),""])}function ht(){const t=this.data.directiveAttributes,e={};let n=-1;for(;++n<t.length;){const r=t[n];r[0]==="class"&&e.class?e.class+=" "+r[1]:e[r[0]]=r[1]}this.data.directiveAttributes=void 0,this.resume();const i=this.stack[this.stack.length-1];O(i.type==="containerDirective"||i.type==="leafDirective"||i.type==="textDirective"),i.attributes=e}function mt(t){this.exit(t)}function et(t,e,n,i){const r=n.createTracker(i),l=fn(t),a=n.enter(t.type);let o=r.move(l+(t.name||"")),u;if(t.type==="containerDirective"){const h=(t.children||[])[0];u=Pt(h)?h:void 0}else u=t;if(u&&u.children&&u.children.length>0){const h=n.enter("label"),f=`${t.type}Label`,c=n.enter(f);o+=r.move("["),o+=r.move(n.containerPhrasing(u,{...r.current(),before:o,after:"]"})),o+=r.move("]"),c(),h()}if(o+=r.move(mn(t,n)),t.type==="containerDirective"){const h=(t.children||[])[0];let f=t;Pt(h)&&(f=Object.assign({},t,{children:t.children.slice(1)})),f&&f.children&&f.children.length>0&&(o+=r.move(`
`),o+=r.move(n.containerFlow(f,r.current()))),o+=r.move(`
`+l)}return a(),o}function hn(){return":"}function mn(t,e){const n=e.options.quote||'"',i=t.type==="textDirective"?[n]:[n,`
`,"\r"],r=t.attributes||{},l=[];let a,o,u,h;for(h in r)if(nn.call(r,h)&&r[h]!==void 0&&r[h]!==null){const c=String(r[h]);if(h==="id")u=qt.test(c)?"#"+c:f("id",c);else if(h==="class"){const p=c.split(/[\t\n\r ]+/g),m=[],g=[];let w=-1;for(;++w<p.length;)(qt.test(p[w])?g:m).push(p[w]);a=m.length>0?f("class",m.join(" ")):"",o=g.length>0?"."+g.join("."):""}else l.push(f(h,c))}return a&&l.unshift(a),o&&l.unshift(o),u&&l.unshift(u),l.length>0?"{"+l.join(" ")+"}":"";function f(c,p){return c+(p?"="+n+en(p,{subset:i})+n:"")}}function Pt(t){return!!(t&&t.type==="paragraph"&&t.data&&t.data.directiveLabel)}function fn(t){let e=0;return t.type==="containerDirective"?(Yt(t,function(n,i){if(n.type==="containerDirective"){let r=i.length,l=0;for(;r--;)i[r].type==="containerDirective"&&l++;l>e&&(e=l)}}),e+=3):t.type==="leafDirective"?e=2:e=1,":".repeat(e)}function yt(t,e,n,i,r,l,a,o,u,h,f,c,p,m,g){let w,s;return v;function v(x){return t.enter(i),t.enter(r),t.consume(x),t.exit(r),d}function d(x){return x===35?(w=a,y(x)):x===46?(w=o,y(x)):x===58||x===95||U(x)?(t.enter(l),t.enter(u),t.consume(x),T):g&&_(x)?I(t,d,"whitespace")(x):!g&&z(x)?J(t,d)(x):M(x)}function y(x){const W=w+"Marker";return t.enter(l),t.enter(w),t.enter(W),t.consume(x),t.exit(W),F}function F(x){if(x===null||x===34||x===35||x===39||x===46||x===60||x===61||x===62||x===96||x===125||z(x))return n(x);const W=w+"Value";return t.enter(W),t.consume(x),D}function D(x){if(x===null||x===34||x===39||x===60||x===61||x===62||x===96)return n(x);if(x===35||x===46||x===125||z(x)){const W=w+"Value";return t.exit(W),t.exit(w),t.exit(l),d(x)}return t.consume(x),D}function T(x){return x===45||x===46||x===58||x===95||Z(x)?(t.consume(x),T):(t.exit(u),g&&_(x)?I(t,k,"whitespace")(x):!g&&z(x)?J(t,k)(x):k(x))}function k(x){return x===61?(t.enter(h),t.consume(x),t.exit(h),L):(t.exit(l),d(x))}function L(x){return x===null||x===60||x===61||x===62||x===96||x===125||g&&N(x)?n(x):x===34||x===39?(t.enter(f),t.enter(p),t.consume(x),t.exit(p),s=x,b):g&&_(x)?I(t,L,"whitespace")(x):!g&&z(x)?J(t,L)(x):(t.enter(c),t.enter(m),t.consume(x),s=void 0,q)}function q(x){return x===null||x===34||x===39||x===60||x===61||x===62||x===96?n(x):x===125||z(x)?(t.exit(m),t.exit(c),t.exit(l),d(x)):(t.consume(x),q)}function b(x){return x===s?(t.enter(p),t.consume(x),t.exit(p),t.exit(f),t.exit(l),j):(t.enter(c),E(x))}function E(x){return x===s?(t.exit(c),b(x)):x===null?n(x):N(x)?g?n(x):J(t,E)(x):(t.enter(m),t.consume(x),S)}function S(x){return x===s||x===null||N(x)?(t.exit(m),E(x)):(t.consume(x),S)}function j(x){return x===125||z(x)?d(x):M(x)}function M(x){return x===125?(t.enter(r),t.consume(x),t.exit(r),t.exit(i),e):n(x)}}function At(t,e,n,i,r,l,a){let o=0,u=0,h;return f;function f(s){return t.enter(i),t.enter(r),t.consume(s),t.exit(r),c}function c(s){return s===93?(t.enter(r),t.consume(s),t.exit(r),t.exit(i),e):(t.enter(l),p(s))}function p(s){if(s===93&&!u)return w(s);const v=t.enter("chunkText",{contentType:"text",previous:h});return h&&(h.next=v),h=v,m(s)}function m(s){return s===null||o>999||s===91&&++u>32?n(s):s===93&&!u--?(t.exit("chunkText"),w(s)):N(s)?a?n(s):(t.consume(s),t.exit("chunkText"),p):(t.consume(s),s===92?g:m)}function g(s){return s===91||s===92||s===93?(t.consume(s),o++,m):m(s)}function w(s){return t.exit(l),t.enter(r),t.consume(s),t.exit(r),t.exit(i),e}}function St(t,e,n,i){const r=this;return l;function l(o){return U(o)?(t.enter(i),t.consume(o),a):n(o)}function a(o){return o===45||o===95||Z(o)?(t.consume(o),a):(t.exit(i),r.previous===45||r.previous===95?n(o):e(o))}}const gn={tokenize:bn,concrete:!0},pn={tokenize:kn,partial:!0},xn={tokenize:wn,partial:!0},Ot={tokenize:dn,partial:!0};function bn(t,e,n){const i=this,r=i.events[i.events.length-1],l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0;let a=0,o;return u;function u(k){return t.enter("directiveContainer"),t.enter("directiveContainerFence"),t.enter("directiveContainerSequence"),h(k)}function h(k){return k===58?(t.consume(k),a++,h):a<3?n(k):(t.exit("directiveContainerSequence"),St.call(i,t,f,n,"directiveContainerName")(k))}function f(k){return k===91?t.attempt(pn,c,c)(k):c(k)}function c(k){return k===123?t.attempt(xn,p,p)(k):p(k)}function p(k){return I(t,m,"whitespace")(k)}function m(k){return t.exit("directiveContainerFence"),k===null?g(k):N(k)?i.interrupt?e(k):t.attempt(Ot,w,g)(k):n(k)}function g(k){return t.exit("directiveContainer"),e(k)}function w(k){return k===null?(t.exit("directiveContainer"),e(k)):(t.enter("directiveContainerContent"),s(k))}function s(k){return k===null?D(k):t.attempt({tokenize:T,partial:!0},D,l?I(t,v,"linePrefix",l+1):v)(k)}function v(k){if(k===null)return D(k);const L=t.enter("chunkDocument",{contentType:"document",previous:o});return o&&(o.next=L),o=L,d(k)}function d(k){if(k===null){const L=t.exit("chunkDocument");return i.parser.lazy[L.start.line]=!1,D(k)}return N(k)?t.check(Ot,y,F)(k):(t.consume(k),d)}function y(k){t.consume(k);const L=t.exit("chunkDocument");return i.parser.lazy[L.start.line]=!1,s}function F(k){const L=t.exit("chunkDocument");return i.parser.lazy[L.start.line]=!1,D(k)}function D(k){return t.exit("directiveContainerContent"),t.exit("directiveContainer"),e(k)}function T(k,L,q){let b=0;return I(k,E,"linePrefix",4);function E(M){return k.enter("directiveContainerFence"),k.enter("directiveContainerSequence"),S(M)}function S(M){return M===58?(k.consume(M),b++,S):b<a?q(M):(k.exit("directiveContainerSequence"),I(k,j,"whitespace")(M))}function j(M){return M===null||N(M)?(k.exit("directiveContainerFence"),L(M)):q(M)}}}function kn(t,e,n){return At(t,e,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function wn(t,e,n){return yt(t,e,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function dn(t,e,n){const i=this;return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),l}function l(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}const vn={tokenize:An},Cn={tokenize:Sn,partial:!0},yn={tokenize:Fn,partial:!0};function An(t,e,n){const i=this;return r;function r(f){return t.enter("directiveLeaf"),t.enter("directiveLeafSequence"),t.consume(f),l}function l(f){return f===58?(t.consume(f),t.exit("directiveLeafSequence"),St.call(i,t,a,n,"directiveLeafName")):n(f)}function a(f){return f===91?t.attempt(Cn,o,o)(f):o(f)}function o(f){return f===123?t.attempt(yn,u,u)(f):u(f)}function u(f){return I(t,h,"whitespace")(f)}function h(f){return f===null||N(f)?(t.exit("directiveLeaf"),e(f)):n(f)}}function Sn(t,e,n){return At(t,e,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function Fn(t,e,n){return yt(t,e,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const Dn={tokenize:En,previous:zn},Tn={tokenize:Mn,partial:!0},Ln={tokenize:In,partial:!0};function zn(t){return t!==58||this.events[this.events.length-1][1].type==="characterEscape"}function En(t,e,n){const i=this;return r;function r(u){return t.enter("directiveText"),t.enter("directiveTextMarker"),t.consume(u),t.exit("directiveTextMarker"),St.call(i,t,l,n,"directiveTextName")}function l(u){return u===58?n(u):u===91?t.attempt(Tn,a,a)(u):a(u)}function a(u){return u===123?t.attempt(Ln,o,o)(u):o(u)}function o(u){return t.exit("directiveText"),e(u)}}function Mn(t,e,n){return At(t,e,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function In(t,e,n){return yt(t,e,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function Rn(){return{text:{58:Dn},flow:{58:[gn,vn]}}}function jr(){const e=this.data(),n=e.micromarkExtensions||(e.micromarkExtensions=[]),i=e.fromMarkdownExtensions||(e.fromMarkdownExtensions=[]),r=e.toMarkdownExtensions||(e.toMarkdownExtensions=[]);n.push(Rn()),i.push(rn()),r.push(an())}function Nt(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}function qn(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Pn(t,e,n){const r=ve((n||{}).ignore||[]),l=On(e);let a=-1;for(;++a<l.length;)Yt(t,"text",o);function o(h,f){let c=-1,p;for(;++c<f.length;){const m=f[c],g=p?p.children:void 0;if(r(m,g?g.indexOf(m):void 0,p))return;p=m}if(p)return u(h,f)}function u(h,f){const c=f[f.length-1],p=l[a][0],m=l[a][1];let g=0;const s=c.children.indexOf(h);let v=!1,d=[];p.lastIndex=0;let y=p.exec(h.value);for(;y;){const F=y.index,D={index:y.index,input:y.input,stack:[...f,h]};let T=m(...y,D);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?p.lastIndex=F+1:(g!==F&&d.push({type:"text",value:h.value.slice(g,F)}),Array.isArray(T)?d.push(...T):T&&d.push(T),g=F+y[0].length,v=!0),!p.global)break;y=p.exec(h.value)}return v?(g<h.value.length&&d.push({type:"text",value:h.value.slice(g)}),c.children.splice(s,1,...d)):d=[h],s+d.length}}function On(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const r=n[i];e.push([Nn(r[0]),jn(r[1])])}return e}function Nn(t){return typeof t=="string"?new RegExp(qn(t),"g"):t}function jn(t){return typeof t=="function"?t:function(){return t}}const ft="phrasing",gt=["autolink","link","image","label"];function $n(){return{transforms:[Gn],enter:{literalAutolink:Bn,literalAutolinkEmail:pt,literalAutolinkHttp:pt,literalAutolinkWww:pt},exit:{literalAutolink:Wn,literalAutolinkEmail:Un,literalAutolinkHttp:Vn,literalAutolinkWww:Hn}}}function _n(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ft,notInConstruct:gt},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ft,notInConstruct:gt},{character:":",before:"[ps]",after:"\\/",inConstruct:ft,notInConstruct:gt}]}}function Bn(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function pt(t){this.config.enter.autolinkProtocol.call(this,t)}function Vn(t){this.config.exit.autolinkProtocol.call(this,t)}function Hn(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];O(e.type==="link"),e.url="http://"+this.sliceSerialize(t)}function Un(t){this.config.exit.autolinkEmail.call(this,t)}function Wn(t){this.exit(t)}function Gn(t){Pn(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Qn],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Yn]],{ignore:["link","linkReference"]})}function Qn(t,e,n,i,r){let l="";if(!ie(r)||(/^w/i.test(e)&&(n=e+n,e="",l="http://"),!Zn(n)))return!1;const a=Xn(n+i);if(!a[0])return!1;const o={type:"link",title:null,url:l+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function Yn(t,e,n,i){return!ie(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Zn(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Xn(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const r=Nt(t,"(");let l=Nt(t,")");for(;i!==-1&&r>l;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),l++;return[t,n]}function ie(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Y(n)||dt(n))&&(!e||n!==47)}re.peek=oi;function Jn(){return{enter:{gfmFootnoteDefinition:ti,gfmFootnoteDefinitionLabelString:ei,gfmFootnoteCall:ri,gfmFootnoteCallString:ai},exit:{gfmFootnoteDefinition:ii,gfmFootnoteDefinitionLabelString:ni,gfmFootnoteCall:ui,gfmFootnoteCallString:li}}}function Kn(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:si,footnoteReference:re}}}function ti(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function ei(){this.buffer()}function ni(t){const e=this.resume(),n=this.stack[this.stack.length-1];O(n.type==="footnoteDefinition"),n.label=e,n.identifier=X(this.sliceSerialize(t)).toLowerCase()}function ii(t){this.exit(t)}function ri(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function ai(){this.buffer()}function li(t){const e=this.resume(),n=this.stack[this.stack.length-1];O(n.type==="footnoteReference"),n.label=e,n.identifier=X(this.sliceSerialize(t)).toLowerCase()}function ui(t){this.exit(t)}function re(t,e,n,i){const r=n.createTracker(i);let l=r.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return l+=r.move(n.safe(n.associationId(t),{...r.current(),before:l,after:"]"})),o(),a(),l+=r.move("]"),l}function oi(){return"["}function si(t,e,n,i){const r=n.createTracker(i);let l=r.move("[^");const a=n.enter("footnoteDefinition"),o=n.enter("label");return l+=r.move(n.safe(n.associationId(t),{...r.current(),before:l,after:"]"})),o(),l+=r.move("]:"+(t.children&&t.children.length>0?" ":"")),r.shift(4),l+=r.move(n.indentLines(n.containerFlow(t,r.current()),ci)),a(),l}function ci(t,e,n){return e===0?t:(n?"":"    ")+t}const hi=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ae.peek=xi;function mi(){return{canContainEols:["delete"],enter:{strikethrough:gi},exit:{strikethrough:pi}}}function fi(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:hi}],handlers:{delete:ae}}}function gi(t){this.enter({type:"delete",children:[]},t)}function pi(t){this.exit(t)}function ae(t,e,n,i){const r=n.createTracker(i),l=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(t,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),l(),a}function xi(){return"~"}function bi(t,e={}){const n=(e.align||[]).concat(),i=e.stringLength||wi,r=[],l=[],a=[],o=[];let u=0,h=-1;for(;++h<t.length;){const g=[],w=[];let s=-1;for(t[h].length>u&&(u=t[h].length);++s<t[h].length;){const v=ki(t[h][s]);if(e.alignDelimiters!==!1){const d=i(v);w[s]=d,(o[s]===void 0||d>o[s])&&(o[s]=d)}g.push(v)}l[h]=g,a[h]=w}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<u;)r[f]=jt(n[f]);else{const g=jt(n);for(;++f<u;)r[f]=g}f=-1;const c=[],p=[];for(;++f<u;){const g=r[f];let w="",s="";g===99?(w=":",s=":"):g===108?w=":":g===114&&(s=":");let v=e.alignDelimiters===!1?1:Math.max(1,o[f]-w.length-s.length);const d=w+"-".repeat(v)+s;e.alignDelimiters!==!1&&(v=w.length+v+s.length,v>o[f]&&(o[f]=v),p[f]=v),c[f]=d}l.splice(1,0,c),a.splice(1,0,p),h=-1;const m=[];for(;++h<l.length;){const g=l[h],w=a[h];f=-1;const s=[];for(;++f<u;){const v=g[f]||"";let d="",y="";if(e.alignDelimiters!==!1){const F=o[f]-(w[f]||0),D=r[f];D===114?d=" ".repeat(F):D===99?F%2?(d=" ".repeat(F/2+.5),y=" ".repeat(F/2-.5)):(d=" ".repeat(F/2),y=d):y=" ".repeat(F)}e.delimiterStart!==!1&&!f&&s.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&v==="")&&(e.delimiterStart!==!1||f)&&s.push(" "),e.alignDelimiters!==!1&&s.push(d),s.push(v),e.alignDelimiters!==!1&&s.push(y),e.padding!==!1&&s.push(" "),(e.delimiterEnd!==!1||f!==u-1)&&s.push("|")}m.push(e.delimiterEnd===!1?s.join("").replace(/ +$/,""):s.join(""))}return m.join(`
`)}function ki(t){return t==null?"":String(t)}function wi(t){return t.length}function jt(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function di(){return{enter:{table:vi,tableData:$t,tableHeader:$t,tableRow:yi},exit:{codeText:Ai,table:Ci,tableData:xt,tableHeader:xt,tableRow:xt}}}function vi(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Ci(t){this.exit(t),this.data.inTable=void 0}function yi(t){this.enter({type:"tableRow",children:[]},t)}function xt(t){this.exit(t)}function $t(t){this.enter({type:"tableCell",children:[]},t)}function Ai(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Si));const n=this.stack[this.stack.length-1];O(n.type==="inlineCode"),n.value=e,this.exit(t)}function Si(t,e){return e==="|"?e:t}function Fi(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:u,tableRow:o}};function a(m,g,w,s){return h(f(m,w,s),m.align)}function o(m,g,w,s){const v=c(m,w,s),d=h([v]);return d.slice(0,d.indexOf(`
`))}function u(m,g,w,s){const v=w.enter("tableCell"),d=w.enter("phrasing"),y=w.containerPhrasing(m,{...s,before:l,after:l});return d(),v(),y}function h(m,g){return bi(m,{align:g,alignDelimiters:i,padding:n,stringLength:r})}function f(m,g,w){const s=m.children;let v=-1;const d=[],y=g.enter("table");for(;++v<s.length;)d[v]=c(s[v],g,w);return y(),d}function c(m,g,w){const s=m.children;let v=-1;const d=[],y=g.enter("tableRow");for(;++v<s.length;)d[v]=u(s[v],m,g,w);return y(),d}function p(m,g,w){let s=Xt.inlineCode(m,g,w);return w.stack.includes("tableCell")&&(s=s.replace(/\|/g,"\\$&")),s}}function Di(){return{exit:{taskListCheckValueChecked:_t,taskListCheckValueUnchecked:_t,paragraph:Li}}}function Ti(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:zi}}}function _t(t){const e=this.stack[this.stack.length-2];O(e.type==="listItem"),e.checked=t.type==="taskListCheckValueChecked"}function Li(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];O(n.type==="paragraph");const i=n.children[0];if(i&&i.type==="text"){const r=e.children;let l=-1,a;for(;++l<r.length;){const o=r[l];if(o.type==="paragraph"){a=o;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function zi(t,e,n,i){const r=t.children[0],l=typeof t.checked=="boolean"&&r&&r.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(i);l&&o.move(a);let u=Xt.listItem(t,e,n,{...i,...o.current()});return l&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),u;function h(f){return f+a}}function Ei(){return[$n(),Jn(),mi(),di(),Di()]}function Mi(t){return{extensions:[_n(),Kn(),fi(),Fi(t),Ti()]}}const Ii={tokenize:ji,partial:!0},le={tokenize:$i,partial:!0},ue={tokenize:_i,partial:!0},oe={tokenize:Bi,partial:!0},Ri={tokenize:Vi,partial:!0},se={tokenize:Oi,previous:he},ce={tokenize:Ni,previous:me},B={tokenize:Pi,previous:fe},$={};function qi(){return{text:$}}let H=48;for(;H<123;)$[H]=B,H++,H===58?H=65:H===91&&(H=97);$[43]=B;$[45]=B;$[46]=B;$[95]=B;$[72]=[B,ce];$[104]=[B,ce];$[87]=[B,se];$[119]=[B,se];function Pi(t,e,n){const i=this;let r,l;return a;function a(c){return!wt(c)||!fe.call(i,i.previous)||Ft(i.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(c))}function o(c){return wt(c)?(t.consume(c),o):c===64?(t.consume(c),u):n(c)}function u(c){return c===46?t.check(Ri,f,h)(c):c===45||c===95||Z(c)?(l=!0,t.consume(c),u):f(c)}function h(c){return t.consume(c),r=!0,u}function f(c){return l&&r&&U(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(c)):n(c)}}function Oi(t,e,n){const i=this;return r;function r(a){return a!==87&&a!==119||!he.call(i,i.previous)||Ft(i.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Ii,t.attempt(le,t.attempt(ue,l),n),n)(a))}function l(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Ni(t,e,n){const i=this;let r="",l=!1;return a;function a(c){return(c===72||c===104)&&me.call(i,i.previous)&&!Ft(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(c),t.consume(c),o):n(c)}function o(c){if(U(c)&&r.length<5)return r+=String.fromCodePoint(c),t.consume(c),o;if(c===58){const p=r.toLowerCase();if(p==="http"||p==="https")return t.consume(c),u}return n(c)}function u(c){return c===47?(t.consume(c),l?h:(l=!0,u)):n(c)}function h(c){return c===null||Ce(c)||z(c)||Y(c)||dt(c)?n(c):t.attempt(le,t.attempt(ue,f),n)(c)}function f(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(c)}}function ji(t,e,n){let i=0;return r;function r(a){return(a===87||a===119)&&i<3?(i++,t.consume(a),r):a===46&&i===3?(t.consume(a),l):n(a)}function l(a){return a===null?n(a):e(a)}}function $i(t,e,n){let i,r,l;return a;function a(h){return h===46||h===95?t.check(oe,u,o)(h):h===null||z(h)||Y(h)||h!==45&&dt(h)?u(h):(l=!0,t.consume(h),a)}function o(h){return h===95?i=!0:(r=i,i=void 0),t.consume(h),a}function u(h){return r||i||!l?n(h):e(h)}}function _i(t,e){let n=0,i=0;return r;function r(a){return a===40?(n++,t.consume(a),r):a===41&&i<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(oe,e,l)(a):a===null||z(a)||Y(a)?e(a):(t.consume(a),r)}function l(a){return a===41&&i++,t.consume(a),r}}function Bi(t,e,n){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),i):o===38?(t.consume(o),l):o===93?(t.consume(o),r):o===60||o===null||z(o)||Y(o)?e(o):n(o)}function r(o){return o===null||o===40||o===91||z(o)||Y(o)?e(o):i(o)}function l(o){return U(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),i):U(o)?(t.consume(o),a):n(o)}}function Vi(t,e,n){return i;function i(l){return t.consume(l),r}function r(l){return Z(l)?n(l):e(l)}}function he(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||z(t)}function me(t){return!U(t)}function fe(t){return!(t===47||wt(t))}function wt(t){return t===43||t===45||t===46||t===95||Z(t)}function Ft(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Hi={tokenize:Ji,partial:!0};function Ui(){return{document:{91:{tokenize:Yi,continuation:{tokenize:Zi},exit:Xi}},text:{91:{tokenize:Qi},93:{add:"after",tokenize:Wi,resolveTo:Gi}}}}function Wi(t,e,n){const i=this;let r=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const u=i.events[r][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const h=X(i.sliceSerialize({start:a.end,end:i.now()}));return h.codePointAt(0)!==94||!l.includes(h.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function Gi(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},o=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",l,e],["enter",a,e],["exit",a,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...o),t}function Qi(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,a;return o;function o(c){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),u}function u(c){return c!==94?n(c):(t.enter("gfmFootnoteCallMarker"),t.consume(c),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(c){if(l>999||c===93&&!a||c===null||c===91||z(c))return n(c);if(c===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return r.includes(X(i.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(c)}return z(c)||(a=!0),l++,t.consume(c),c===92?f:h}function f(c){return c===91||c===92||c===93?(t.consume(c),l++,h):h(c)}}function Yi(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,a=0,o;return u;function u(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):n(g)}function f(g){if(a>999||g===93&&!o||g===null||g===91||z(g))return n(g);if(g===93){t.exit("chunkString");const w=t.exit("gfmFootnoteDefinitionLabelString");return l=X(i.sliceSerialize(w)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return z(g)||(o=!0),a++,t.consume(g),g===92?c:f}function c(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}function p(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),r.includes(l)||r.push(l),I(t,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return e(g)}}function Zi(t,e,n){return t.check(ye,e,t.attempt(Hi,e,n))}function Xi(t){t.exit("gfmFootnoteDefinition")}function Ji(t,e,n){const i=this;return I(t,r,"gfmFootnoteDefinitionIndent",5);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(l):n(l)}}function Ki(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:l,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let h=u;for(;h--;)if(a[h][0]==="exit"&&a[h][1].type==="strikethroughSequenceTemporary"&&a[h][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[h][1].end.offset-a[h][1].start.offset){a[u][1].type="strikethroughSequence",a[h][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[h][1].start),end:Object.assign({},a[u][1].end)},c={type:"strikethroughText",start:Object.assign({},a[h][1].end),end:Object.assign({},a[u][1].start)},p=[["enter",f,o],["enter",a[h][1],o],["exit",a[h][1],o],["enter",c,o]],m=o.parser.constructs.insideSpan.null;m&&it(p,p.length,0,Ae(m,a.slice(h+1,u),o)),it(p,p.length,0,[["exit",c,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",f,o]]),it(a,h-1,u-h+3,p),u=h+p.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function l(a,o,u){const h=this.previous,f=this.events;let c=0;return p;function p(g){return h===126&&f[f.length-1][1].type!=="characterEscape"?u(g):(a.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const w=Lt(h);if(g===126)return c>1?u(g):(a.consume(g),c++,m);if(c<2&&!n)return u(g);const s=a.exit("strikethroughSequenceTemporary"),v=Lt(g);return s._open=!v||v===2&&!!w,s._close=!w||w===2&&!!v,o(g)}}}class tr{constructor(){this.map=[]}add(e,n,i){er(this,e,n,i)}consume(e){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push([...e]),e.length=0;let r=i.pop();for(;r;)e.push(...r),r=i.pop();this.map.length=0}}function er(t,e,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...i);return}r+=1}t.map.push([e,n,i])}}function nr(t,e){let n=!1;const i=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function ir(){return{flow:{null:{tokenize:rr,resolveAll:ar}}}}function rr(t,e,n){const i=this;let r=0,l=0,a;return o;function o(b){let E=i.events.length-1;for(;E>-1;){const M=i.events[E][1].type;if(M==="lineEnding"||M==="linePrefix")E--;else break}const S=E>-1?i.events[E][1].type:null,j=S==="tableHead"||S==="tableRow"?T:u;return j===T&&i.parser.lazy[i.now().line]?n(b):j(b)}function u(b){return t.enter("tableHead"),t.enter("tableRow"),h(b)}function h(b){return b===124||(a=!0,l+=1),f(b)}function f(b){return b===null?n(b):N(b)?l>1?(l=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):n(b):_(b)?I(t,f,"whitespace")(b):(l+=1,a&&(a=!1,r+=1),b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),a=!0,f):(t.enter("data"),c(b)))}function c(b){return b===null||b===124||z(b)?(t.exit("data"),f(b)):(t.consume(b),b===92?p:c)}function p(b){return b===92||b===124?(t.consume(b),c):c(b)}function m(b){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(b):(t.enter("tableDelimiterRow"),a=!1,_(b)?I(t,g,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):g(b))}function g(b){return b===45||b===58?s(b):b===124?(a=!0,t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),w):D(b)}function w(b){return _(b)?I(t,s,"whitespace")(b):s(b)}function s(b){return b===58?(l+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),v):b===45?(l+=1,v(b)):b===null||N(b)?F(b):D(b)}function v(b){return b===45?(t.enter("tableDelimiterFiller"),d(b)):D(b)}function d(b){return b===45?(t.consume(b),d):b===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),y):(t.exit("tableDelimiterFiller"),y(b))}function y(b){return _(b)?I(t,F,"whitespace")(b):F(b)}function F(b){return b===124?g(b):b===null||N(b)?!a||r!==l?D(b):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(b)):D(b)}function D(b){return n(b)}function T(b){return t.enter("tableRow"),k(b)}function k(b){return b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),k):b===null||N(b)?(t.exit("tableRow"),e(b)):_(b)?I(t,k,"whitespace")(b):(t.enter("data"),L(b))}function L(b){return b===null||b===124||z(b)?(t.exit("data"),k(b)):(t.consume(b),b===92?q:L)}function q(b){return b===92||b===124?(t.consume(b),L):L(b)}}function ar(t,e){let n=-1,i=!0,r=0,l=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,h,f,c;const p=new tr;for(;++n<t.length;){const m=t[n],g=m[1];m[0]==="enter"?g.type==="tableHead"?(o=!1,u!==0&&(Bt(p,e,u,h,f),f=void 0,u=0),h={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",h,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(i=!0,c=void 0,l=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",f,e]])),r=g.type==="tableDelimiterRow"?2:f?3:1):r&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],c=tt(p,e,l,r,void 0,c),l=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(a[0]=a[1],c=tt(p,e,l,r,void 0,c)),l=a,a=[l[1],n,0,0])):g.type==="tableHead"?(o=!0,u=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(u=n,l[1]!==0?(a[0]=a[1],c=tt(p,e,l,r,n,c)):a[1]!==0&&(c=tt(p,e,a,r,n,c)),r=0):r&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&Bt(p,e,u,h,f),p.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=nr(e.events,n))}return t}function tt(t,e,n,i,r,l){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(l.end=Object.assign({},Q(e.events,n[0])),t.add(n[0],0,[["exit",l,e]]));const u=Q(e.events,n[1]);if(l={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",l,e]]),n[2]!==0){const h=Q(e.events,n[2]),f=Q(e.events,n[3]),c={type:o,start:Object.assign({},h),end:Object.assign({},f)};if(t.add(n[2],0,[["enter",c,e]]),i!==2){const p=e.events[n[2]],m=e.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,w=n[3]-n[2]-1;t.add(g,w,[])}}t.add(n[3]+1,0,[["exit",c,e]])}return r!==void 0&&(l.end=Object.assign({},Q(e.events,r)),t.add(r,0,[["exit",l,e]]),l=void 0),l}function Bt(t,e,n,i,r){const l=[],a=Q(e.events,n);r&&(r.end=Object.assign({},a),l.push(["exit",r,e])),i.end=Object.assign({},a),l.push(["exit",i,e]),t.add(n+1,0,l)}function Q(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const lr={tokenize:or};function ur(){return{text:{91:lr}}}function or(t,e,n){const i=this;return r;function r(u){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),l)}function l(u){return z(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(u)}function o(u){return N(u)?e(u):_(u)?t.check({tokenize:sr},e,n)(u):n(u)}}function sr(t,e,n){return I(t,i,"whitespace");function i(r){return r===null?n(r):e(r)}}function cr(t){return Se([qi(),Ui(),Ki(t),ir(),ur()])}const hr={};function $r(t){const e=this,n=t||hr,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),l=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(cr(n)),l.push(Ei()),a.push(Mi(n))}function mr(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:l},exit:{mathFlow:r,mathFlowFence:i,mathFlowFenceMeta:n,mathFlowValue:o,mathText:a,mathTextData:o}};function t(u){const h={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[h]}},u)}function e(){this.buffer()}function n(){const u=this.resume(),h=this.stack[this.stack.length-1];O(h.type==="math"),h.meta=u}function i(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function r(u){const h=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),f=this.stack[this.stack.length-1];O(f.type==="math"),this.exit(u),f.value=h;const c=f.data.hChildren[0];O(c.type==="element"),O(c.tagName==="code"),c.children.push({type:"text",value:h}),this.data.mathFlowInside=void 0}function l(u){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},u),this.buffer()}function a(u){const h=this.resume(),f=this.stack[this.stack.length-1];O(f.type==="inlineMath"),this.exit(u),f.value=h,f.data.hChildren.push({type:"text",value:h})}function o(u){this.config.enter.data.call(this,u),this.config.exit.data.call(this,u)}}function fr(t){let e={}.singleDollarTextMath;return e==null&&(e=!0),i.peek=r,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:i}};function n(l,a,o,u){const h=l.value||"",f=o.createTracker(u),c="$".repeat(Math.max(Ee(h,"$")+1,2)),p=o.enter("mathFlow");let m=f.move(c);if(l.meta){const g=o.enter("mathFlowMeta");m+=f.move(o.safe(l.meta,{after:`
`,before:m,encode:["$"],...f.current()})),g()}return m+=f.move(`
`),h&&(m+=f.move(h+`
`)),m+=f.move(c),p(),m}function i(l,a,o){let u=l.value||"",h=1;for(e||h++;new RegExp("(^|[^$])"+"\\$".repeat(h)+"([^$]|$)").test(u);)h++;const f="$".repeat(h);/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^\$|\$$/.test(u))&&(u=" "+u+" ");let c=-1;for(;++c<o.unsafe.length;){const p=o.unsafe[c];if(!p.atBreak)continue;const m=o.compilePattern(p);let g;for(;g=m.exec(u);){let w=g.index;u.codePointAt(w)===10&&u.codePointAt(w-1)===13&&w--,u=u.slice(0,w)+" "+u.slice(g.index+1)}}return f+u+f}function r(){return"$"}}const C={eof:null,space:32,dollarSign:36,leftParenthesis:40,rightParenthesis:41,leftSquareBracket:91,backslash:92,rightSquareBracket:93};function R(t){return t!==null&&t<-2}function Vt(t){return t===-2||t===-1||t===32}function V(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(u){return Vt(u)?(t.enter(n),o(u)):e(u)}function o(u){return Vt(u)&&l++<r?(t.consume(u),o):(t.exit(n),e(u))}}const nt={contentTypeString:"string",tabSize:4},A={whitespace:"whitespace",lineEnding:"lineEnding",linePrefix:"linePrefix",characterEscape:"characterEscape",chunkString:"chunkString"};const gr={tokenize:xr,concrete:!0},pr={tokenize:br,partial:!0};function xr(t,e,n){const i=this,r=this.events[this.events.length-1],l=r&&r[1].type===A.linePrefix?r[2].sliceSerialize(r[1],!0).length:0,a=[];return o;function o(s){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),u(s)}function u(s){return s===C.backslash||s===C.leftSquareBracket&&a[0]===C.backslash?(t.consume(s),a.push(s),u):(t.exit("mathFlowFenceSequence"),a.length<2?n(s):V(t,h,A.whitespace)(s))}function h(s){return s===C.eof||R(s)?c(s):(t.enter("mathFlowFenceMeta"),t.enter(A.chunkString,{contentType:nt.contentTypeString}),f(s))}function f(s){return s===C.eof||R(s)?(t.exit(A.chunkString),t.exit("mathFlowFenceMeta"),c(s)):s===C.rightSquareBracket?n(s):(t.consume(s),f)}function c(s){return t.exit("mathFlowFence"),i.interrupt?e(s):p(s)}function p(s){return s===C.eof?g(s):R(s)?t.attempt(pr,t.attempt({tokenize:w,partial:!0},g,l?V(t,p,A.linePrefix,l+1):p),g)(s):(t.enter("mathFlowValue"),m(s))}function m(s){return s===C.eof||R(s)?(t.exit("mathFlowValue"),p(s)):(t.consume(s),m)}function g(s){return t.exit("mathFlow"),e(s)}function w(s,v,d){const y=[];return V(s,F,A.linePrefix,nt.tabSize);function F(k){return s.enter("mathFlowFence"),s.enter("mathFlowFenceSequence"),D(k)}function D(k){return k===C.backslash&&y.length===0||k===C.rightSquareBracket&&y[0]===C.backslash?(s.consume(k),y.push(k),D):y<a?d(k):(s.exit("mathFlowFenceSequence"),V(s,T,A.whitespace)(k))}function T(k){return k===C.eof||R(k)?(s.exit("mathFlowFence"),v(k)):d(k)}}}function br(t,e,n){const i=this;return r;function r(a){return t.enter(A.lineEnding),t.consume(a),t.exit(A.lineEnding),l}function l(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}const kr={tokenize:dr,concrete:!0},wr={tokenize:vr,partial:!0};function dr(t,e,n){const i=this,r=i.events[i.events.length-1],l=r&&r[1].type===A.linePrefix?r[2].sliceSerialize(r[1],!0).length:0;let a=0;return o;function o(s){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),u(s)}function u(s){return s===C.dollarSign?(t.consume(s),a++,u):(t.exit("mathFlowFenceSequence"),a<2?n(s):V(t,h,A.whitespace)(s))}function h(s){return s===C.eof||R(s)?c(s):(t.enter("mathFlowFenceMeta"),t.enter(A.chunkString,{contentType:nt.contentTypeString}),f(s))}function f(s){return s===C.eof||R(s)?(t.exit(A.chunkString),t.exit("mathFlowFenceMeta"),c(s)):s===C.dollarSign?n(s):(t.consume(s),f)}function c(s){return t.exit("mathFlowFence"),i.interrupt?e(s):p(s)}function p(s){return s===C.eof?g(s):R(s)?t.attempt(wr,t.attempt({tokenize:w,partial:!0},g,l?V(t,p,A.linePrefix,l+1):p),g)(s):(t.enter("mathFlowValue"),m(s))}function m(s){return s===C.eof||R(s)?(t.exit("mathFlowValue"),p(s)):(t.consume(s),m)}function g(s){return t.exit("mathFlow"),e(s)}function w(s,v,d){let y=0;return V(s,F,A.linePrefix,nt.tabSize);function F(k){return s.enter("mathFlowFence"),s.enter("mathFlowFenceSequence"),D(k)}function D(k){return k===C.dollarSign?(s.consume(k),y++,D):y<a?d(k):(s.exit("mathFlowFenceSequence"),V(s,T,A.whitespace)(k))}function T(k){return k===C.eof||R(k)?(s.exit("mathFlowFence"),v(k)):d(k)}}}function vr(t,e,n){const i=this;return r;function r(a){return t.enter(A.lineEnding),t.consume(a),t.exit(A.lineEnding),l}function l(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}function Cr(){return{tokenize:t,resolve:yr,previous:Ht};function t(e,n,i){const r=[];let l=[],a;const o=this;return u;function u(m){return Ht.call(o,o.previous)&&(o.previous,void 0),e.enter("mathText"),e.enter("mathTextSequence"),h(m)}function h(m){return m===C.backslash&&r.length===0||m===C.leftParenthesis&&r.length===1?(e.consume(m),r.push(m),h):r.length<2?i(m):(e.exit("mathTextSequence"),f(m))}function f(m){return m===C.eof?i(m):m===C.backslash?(a=e.enter("mathTextSequence"),l=[],p(m)):m===C.space?(e.enter("space"),e.consume(m),e.exit("space"),f):R(m)?(e.enter(A.lineEnding),e.consume(m),e.exit(A.lineEnding),f):(e.enter("mathTextData"),c(m))}function c(m){return m===C.eof||m===C.space||m===C.backslash||R(m)?(e.exit("mathTextData"),f(m)):(e.consume(m),c)}function p(m){return m===C.backslash&&l.length===0||m===C.rightParenthesis&&l.length===1?(e.consume(m),l.push(m),p):l.length===r.length?(e.exit("mathTextSequence"),e.exit("mathText"),n(m)):(a.type="mathTextData",c(m))}}}function yr(t){let e=t.length-4,n=3,i,r;if((t[n][1].type===A.lineEnding||t[n][1].type==="space")&&(t[e][1].type===A.lineEnding||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!==A.lineEnding&&(r=i):(i===e||t[i][1].type===A.lineEnding)&&(t[r][1].type="mathTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function Ht(t){return t!==C.backslash||this.events[this.events.length-1][1].type===A.characterEscape}function Ar(){return{tokenize:t,resolve:Sr,previous:Fr};function t(e,n,i){let r=0,l,a;return o;function o(p){return e.enter("mathText"),e.enter("mathTextSequence"),u(p)}function u(p){return p===C.dollarSign?(e.consume(p),r++,u):r<2?i(p):(e.exit("mathTextSequence"),h(p))}function h(p){return p===C.eof?i(p):p===C.dollarSign?(a=e.enter("mathTextSequence"),l=0,c(p)):p===C.space?(e.enter("space"),e.consume(p),e.exit("space"),h):R(p)?(e.enter(A.lineEnding),e.consume(p),e.exit(A.lineEnding),h):(e.enter("mathTextData"),f(p))}function f(p){return p===C.eof||p===C.space||p===C.dollarSign||R(p)?(e.exit("mathTextData"),h(p)):(e.consume(p),f)}function c(p){return p===C.dollarSign?(e.consume(p),l++,c):l===r?(e.exit("mathTextSequence"),e.exit("mathText"),n(p)):(a.type="mathTextData",f(p))}}}function Sr(t){let e=t.length-4,n=3,i,r;if((t[n][1].type===A.lineEnding||t[n][1].type==="space")&&(t[e][1].type===A.lineEnding||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!==A.lineEnding&&(r=i):(i===e||t[i][1].type===A.lineEnding)&&(t[r][1].type="mathTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function Fr(t){return t!==C.dollarSign||this.events[this.events.length-1][1].type===A.characterEscape}function Dr(){return{tokenize:t,resolve:Tr,previous:Ut};function t(e,n,i){const r=[];let l=[],a;const o=this;return u;function u(m){return Ut.call(o,o.previous)&&(o.previous,void 0),e.enter("mathText"),e.enter("mathTextSequence"),h(m)}function h(m){return m===C.backslash&&r.length===0||m===C.leftSquareBracket&&r.length===1?(e.consume(m),r.push(m),h):r.length<2?i(m):(e.exit("mathTextSequence"),f(m))}function f(m){return m===C.eof?i(m):m===C.backslash?(a=e.enter("mathTextSequence"),l=[],p(m)):m===C.space?(e.enter("space"),e.consume(m),e.exit("space"),f):R(m)?(e.enter(A.lineEnding),e.consume(m),e.exit(A.lineEnding),f):(e.enter("mathTextData"),c(m))}function c(m){return m===C.eof||m===C.space||m===C.backslash||R(m)?(e.exit("mathTextData"),f(m)):(e.consume(m),c)}function p(m){return m===C.backslash&&l.length===0||m===C.rightSquareBracket&&l.length===1?(e.consume(m),l.push(m),p):l.length===r.length?(e.exit("mathTextSequence"),e.exit("mathText"),n(m)):(a.type="mathTextData",c(m))}}}function Tr(t){let e=t.length-4,n=3,i,r;if((t[n][1].type===A.lineEnding||t[n][1].type==="space")&&(t[e][1].type===A.lineEnding||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!==A.lineEnding&&(r=i):(i===e||t[i][1].type===A.lineEnding)&&(t[r][1].type="mathTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function Ut(t){return t!==C.backslash||this.events[this.events.length-1][1].type===A.characterEscape}function Lr(){return{flow:{[C.dollarSign]:kr,[C.backslash]:gr},text:{[C.dollarSign]:Ar(),[C.backslash]:[Cr(),Dr()]}}}function _r(){const t=this.data();e("micromarkExtensions",Lr()),e("fromMarkdownExtensions",mr()),e("toMarkdownExtensions",fr());function e(n,i){(t[n]?t[n]:t[n]=[]).push(i)}}export{Or as C,_r as a,jr as b,qr as c,Pr as d,Nt as e,Pn as f,zt as g,$r as r,Nr as s};
//# sourceMappingURL=k7lsvlcih6dj1cdg.js.map
