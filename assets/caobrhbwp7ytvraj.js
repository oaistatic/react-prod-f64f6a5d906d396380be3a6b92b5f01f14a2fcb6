import{b,r as d,j as l,e as h}from"./gg0tb34p9fzo1omt.js";import{bU as f,cO as E,dX as y}from"./g670b8vtkhx0yc6d.js";import{V as I}from"./d3y72ugnrmac5z1v.js";import{S as T,c as V}from"./keukcpnbbi0jjwq0.js";function u(e){return e.split(/[\s,]+/)}function A({value:e,onChange:a,className:i,trackEmailsAdded:o,trackEmailRemoved:n}){const x=b(),[t,m]=d.useState(""),v=d.useCallback(s=>{if(t&&!s.nativeEvent.isComposing)switch(s.key){case"Enter":case",":case" ":{const r=u(t);a([...e,...r.map(p)]),m(""),s.preventDefault();const g={numEmailsAdded:r.length,uploadType:"Manual"};o?.(g)}}},[t,a,e,o]),M=s=>{if(t){const r=u(t);a([...e,...r.map(p)]),m(t),s.preventDefault()}};return l.jsx(T,{className:f("react-select-container",i),isMulti:!0,onBlur:M,classNamePrefix:"react-select",components:j,inputValue:t,isClearable:!0,menuIsOpen:!1,onChange:(s,r)=>{switch(a(s),r.action){case"pop-value":case"remove-value":n?.();break}},onInputChange:m,onKeyDown:v,placeholder:x.formatMessage(c.placeholder),value:e,"aria-labelledby":"add-emails-label",name:"add-member-emails",trackEmailRemoved:n})}const p=e=>({label:e,value:e,isValid:I.test(e)}),C=e=>{const a=b(),i=l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{children:e.children}),l.jsx(E,{className:"icon-sm"})]}),o=e.data.isValid?i:l.jsx(y,{label:a.formatMessage(c.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:i});return l.jsx(V.MultiValue,{...e,children:l.jsx("button",{className:f("text-token-text-primary m-1 cursor-pointer rounded-full border border-transparent py-1 ps-3 pe-2 text-sm",e.data.isValid?"bg-token-main-surface-secondary hover:border-token-border-medium hover:bg-token-main-surface-tertiary":"bg-red-200 text-red-500"),onClick:n=>{e.removeProps.onClick?.(n),e.selectProps.trackEmailRemoved?.(),n.preventDefault()},"aria-label":a.formatMessage(c.removeMember,{member:e.data.value}),children:o})})},j={DropdownIndicator:()=>null,IndicatorsContainer:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:C},c=h({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});export{A as E,p as c};
//# sourceMappingURL=caobrhbwp7ytvraj.js.map
