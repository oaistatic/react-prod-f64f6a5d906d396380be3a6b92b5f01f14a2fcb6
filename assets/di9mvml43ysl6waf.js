import{j as t,r as j,A,m as M,M as E,n as R}from"./gg0tb34p9fzo1omt.js";import{bo as D,gm as P,mE as I,f9 as N}from"./g670b8vtkhx0yc6d.js";import{g as S,f as k,C as p,A as L,a as z,b as h}from"./ejkv34dzwipa230i.js";import{a as V,b as F,T as H}from"./gffsn29yylc5pncm.js";import{b as O,c1 as $,c2 as q,c3 as W,c4 as v,c5 as _,c6 as G}from"./forbprkns1cohsbl.js";const Z=({size:i="large",position:r="bottom"})=>{const o=D(),a=i==="large"?"4em":"50px",s=`${o?"rgba(0,0,0,0)":"rgba(255,255,255,0)"}, ${o?"#2f2f2f":"#ffffff"}`;return r==="bottom"?t.jsx("div",{className:"absolute bottom-0 z-20 h-24 w-full transition-colors",style:{height:a,background:`linear-gradient(${s})`}}):t.jsx("div",{className:"absolute end-0 top-0 bottom-0 z-20 transition-colors",style:{width:a,background:`linear-gradient(to right, ${s})`}})},U=()=>t.jsxs(M.div,{role:"button",className:"border-token-border-default bg-token-main-surface-primary absolute start-0 end-0 bottom-3 z-50 mx-auto flex w-fit items-baseline gap-1 rounded-full border px-3 py-1",initial:!1,animate:{opacity:1},exit:{opacity:0,scale:.9},children:[t.jsx("span",{className:"loading-shimmer-pure-text",children:t.jsx(E,{...R({id:"qmLYih",defaultMessage:"Typing"})})}),t.jsx(H,{gap:1,padding:0})]}),Y=({onScroll:i,textdocId:r,disableScroll:o=!1})=>{const a=P(),s=O(r),{windowWidth:C}=I(y=>y,{windowWidth:0,windowHeight:0}),d=$();if(!s)return null;const{versions:n}=s,e=N(n);if(!e)return null;const m=n.length>1?n[n.length-2]:null,c=q(e),u=W(e),w=v(e),g=V({isReadonlyFromQueryParam:!0}),{content:x,currentlyStreamingLineIndex:T}=S(e,m),b=d?k(e.comments):[],f=d?p.ALL_HIDDEN:p.COMMENTS_READONLY;let l=null;switch(e?.type){case G.DOCUMENT:l=t.jsx(z,{value:x.trimEnd(),previousValue:m?.content,comments:b,isRequestActive:c,isRewriting:u,isPreview:!0,isDisabled:!0,hideAccelerators:!0,commentsMode:f,readonlyReason:g,hideToolbar:!0,hideEditOverlay:!0,width:C,modelCursor:w||c&&!u?e?.modelCursor:void 0,metadata:s.metadata});break;default:e&&_(e.type)&&(l=t.jsx(L,{id:"codemirror",currentlyStreamingLineIndex:T,language:F(e.type),value:x,commentsMode:f,hideToolbar:!0,hideAccelerators:!0,isPreview:!0,readonlyReason:g,comments:b,isRequestActive:c}))}return t.jsxs(h,{children:[t.jsx(h.Content,{disableScroll:o||!a,onScroll:i,children:l}),t.jsx(A,{children:v(e)&&!d&&t.jsx(U,{})})]})},ee=j.memo(Y);export{Z as C,ee as T};
//# sourceMappingURL=di9mvml43ysl6waf.js.map
